{"url": "https://www.kdnuggets.com/2019/03/data-pipelines-luigi-airflow-everything-need-know.html", "title": "Data Pipelines, Luigi, Airflow: Everything you need to know", "title_html": "<h1 id=\"title\">Data Pipelines, Luigi, Airflow: Everything you need to know</h1>", "content": "\n  comments \n By Lorenzo Peppoloni, Lyft \n \n", "html": "<!DOCTYPE html>\n\n<html lang=\"en-US\" xmlns=\"http://www.w3.org/1999/xhtml\">\n<head profile=\"http://gmpg.org/xfn/11\">\n<meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\"/>\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\"/>\n<title>  Data Pipelines, Luigi, Airflow: Everything you need to know</title>\n<link href=\"/wp-content/themes/kdn17/images/favicon.ico\" rel=\"shortcut icon\"/>\n<link href=\"/wp-content/themes/kdn17/style.css\" media=\"screen\" rel=\"stylesheet\" type=\"text/css\"/>\n<script src=\"/wp-content/themes/kdn17/js/jquery-1.9.1.min.js\" type=\"text/javascript\"></script>\n<script src=\"/aps/kda_all.js\" type=\"text/javascript\"></script>\n<link href=\"/feed/\" rel=\"alternate\" title=\"KDnuggets: Analytics, Big Data, Data Mining and Data Science Feed\" type=\"application/rss+xml\"/>\n<link href=\"//s.w.org\" rel=\"dns-prefetch\"/>\n<link href=\"https://www.kdnuggets.com/feed\" rel=\"alternate\" title=\"KDnuggets \u00bb Feed\" type=\"application/rss+xml\"/>\n<link href=\"https://www.kdnuggets.com/comments/feed\" rel=\"alternate\" title=\"KDnuggets \u00bb Comments Feed\" type=\"application/rss+xml\"/>\n<link href=\"https://www.kdnuggets.com/2019/03/data-pipelines-luigi-airflow-everything-need-know.html/feed\" rel=\"alternate\" title=\"KDnuggets \u00bb Data Pipelines, Luigi, Airflow: Everything you need to know Comments Feed\" type=\"application/rss+xml\"/>\n<link href=\"https://www.kdnuggets.com/wp-json/\" rel=\"https://api.w.org/\"/>\n<link href=\"https://www.kdnuggets.com/xmlrpc.php?rsd\" rel=\"EditURI\" title=\"RSD\" type=\"application/rsd+xml\"/>\n<link href=\"https://www.kdnuggets.com/wp-includes/wlwmanifest.xml\" rel=\"wlwmanifest\" type=\"application/wlwmanifest+xml\"/>\n<link href=\"https://www.kdnuggets.com/2019/n12.html\" rel=\"prev\" title=\"KDnuggets\u2122 News 19:n12, Mar 27: My Best Tips for Agile Data Science Research; R vs Python for Data Visualization\"/>\n<link href=\"https://www.kdnuggets.com/2019/03/how-choose-right-chart-type.html\" rel=\"next\" title=\"How to Choose the Right Chart Type\"/>\n<meta content=\"WordPress 4.9.10\" name=\"generator\">\n<link href=\"https://www.kdnuggets.com/2019/03/data-pipelines-luigi-airflow-everything-need-know.html\" rel=\"canonical\"/>\n<link href=\"https://www.kdnuggets.com/?p=92308\" rel=\"shortlink\"/>\n<link href=\"https://www.kdnuggets.com/2019/03/data-pipelines-luigi-airflow-everything-need-know.html\" rel=\"canonical\"/>\n<!-- BEGIN ExactMetrics v5.3.7 Universal Analytics - https://exactmetrics.com/ -->\n<script>\n(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n\t(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n\tm=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n  ga('create', 'UA-361129-1', 'auto');\n  ga('send', 'pageview');\n</script>\n<!-- END ExactMetrics Universal Analytics -->\n</meta></head>\n<body class=\"post-template-default single single-post postid-92308 single-format-standard\">\n<div class=\"main_wrapper\"><!-- publ: 27-Mar, 2019  -->\n<div id=\"wrapper\">\n<div id=\"header\">\n<div id=\"header_log\">\n<div class=\"logo\">\n<a href=\"/\"></a>\n</div>\n<h1>KDnuggets</h1>\n<div class=\"text-container\">\n            \u00a0\u00a0<a href=\"/news/subscribe.html\" target=\"_blank\"><b>Subscribe to KDnuggets News</b></a> \u00a0|\n <a href=\"https://twitter.com/kdnuggets\" target=\"_blank\"><img alt=\"Twitter\" height=\"48\" src=\"/images/tw_c48.png\" style=\"vertical-align: bottom\" width=\"48\"/></a> \u00a0\u00a0\n <a href=\"https://www.facebook.com/kdnuggets\" target=\"_blank\"><img alt=\"Facebook\" height=\"48\" src=\"/images/fb_c48.png\" style=\"vertical-align: bottom\" width=\"48\"/></a> \u00a0\u00a0\n<a href=\"https://www.linkedin.com/groups/54257/\" target=\"_blank\"><img alt=\"LinkedIn\" height=\"48\" src=\"/images/in_c48.png\" style=\"vertical-align: bottom\" width=\"48\"/></a> \n\u00a0|\u00a0 <a href=\"/contact.html\"><b>Contact</b></a>\n</div>\n</div>\n<div class=\"search\">\n<form action=\"/\" id=\"searchform\" method=\"get\">\n<input id=\"s\" name=\"s\" placeholder=\"search KDnuggets\" type=\"text\" value=\"\"/>\n<input type=\"submit\" value=\"Search\"/></form>\n</div>\n<div href=\"#\" id=\"pull\">\n<img class=\"menu\" src=\"/images/menu-30.png\">\n<div class=\"logo\">\n<a href=\"/\"></a>\n</div>\n<img class=\"search-icon\" src=\"/images/search-icon.png\">\n</img></img></div>\n<div id=\"pull-menu\">\n<div class=\"navigation\"><ul class=\"menu\" id=\"menu-menu\"><li class=\"menu-item menu-item-type-custom menu-item-object-custom menu-item-1070\" id=\"menu-item-1070\"><a href=\"/software/index.html\" title=\"Data Science Software\">SOFTWARE</a></li>\n<li class=\"menu-item menu-item-type-custom menu-item-object-custom menu-item-13756\" id=\"menu-item-13756\"><a href=\"/news/index.html\" title=\"News\">News/Blog</a></li>\n<li class=\"menu-item menu-item-type-custom menu-item-object-custom menu-item-46286\" id=\"menu-item-46286\"><a href=\"/news/top-stories.html\">Top stories</a></li>\n<li class=\"menu-item menu-item-type-post_type menu-item-object-page menu-item-42152\" id=\"menu-item-42152\"><a href=\"https://www.kdnuggets.com/opinions/index.html\" title=\"Opinions\">Opinions</a></li>\n<li class=\"menu-item menu-item-type-post_type menu-item-object-page menu-item-46415\" id=\"menu-item-46415\"><a href=\"https://www.kdnuggets.com/tutorials/index.html\">Tutorials</a></li>\n<li class=\"menu-item menu-item-type-custom menu-item-object-custom menu-item-13364\" id=\"menu-item-13364\"><a href=\"/jobs/index.html\" title=\"Jobs in Analytics, Data Science\">JOBS</a></li>\n<li class=\"menu-item menu-item-type-post_type menu-item-object-page menu-item-63505\" id=\"menu-item-63505\"><a href=\"https://www.kdnuggets.com/companies/index.html\">Companies</a></li>\n<li class=\"menu-item menu-item-type-custom menu-item-object-custom menu-item-13366\" id=\"menu-item-13366\"><a href=\"/courses/index.html\">Courses</a></li>\n<li class=\"menu-item menu-item-type-post_type menu-item-object-page menu-item-1499\" id=\"menu-item-1499\"><a href=\"https://www.kdnuggets.com/datasets/index.html\">Datasets</a></li>\n<li class=\"menu-item menu-item-type-post_type menu-item-object-page menu-item-14286\" id=\"menu-item-14286\"><a href=\"https://www.kdnuggets.com/education/index.html\" title=\"Education in Analytics, Big Data, Data Science\">EDUCATION</a></li>\n<li class=\"menu-item menu-item-type-post_type menu-item-object-page menu-item-51558\" id=\"menu-item-51558\"><a href=\"https://www.kdnuggets.com/education/analytics-data-mining-certificates.html\" title=\"Certificates in Analytics, Big Data, Data Science\">Certificates</a></li>\n<li class=\"menu-item menu-item-type-custom menu-item-object-custom menu-item-14752\" id=\"menu-item-14752\"><a href=\"/meetings/index.html\">Meetings</a></li>\n<li class=\"menu-item menu-item-type-custom menu-item-object-custom menu-item-13721\" id=\"menu-item-13721\"><a href=\"/webcasts/index.html\" title=\"Webcasts and Webinars\">Webinars</a></li>\n</ul></div></div>\n</div> <!--#header end-->\n<div id=\"spacer\">\n         \u00a0\n      </div>\n<div id=\"content_wrapper\">\n<div id=\"ad_wrapper\">\n<script type=\"text/javascript\">\n\tjQuery(function() {\n   \t    var pull        = $('#pull');\n            menu        = $('#header .navigation ul');\n            menuImage = $('#header img.menu');\n            mobileMenu        = $('#pull-menu-mobile');\n            search = $('img.search-icon');\n            searchBar = $('div.search');\n            searchClick = false;\n            search.on('click', function() {\n                  searchBar.slideToggle();\n                  searchClick = true;\n            });  \n     \t    $(menuImage).on('click', function(e) {\n\t        //e.preventDefault();\n                if (!searchClick) {\n                  menu.slideToggle();\n                }\n                searchClick = false;\n\t    });\n           /* pullMobile.on('click', function(e) {\n              e.preventDefault();\n                if (!searchClick) {\n                  mobileMenu.slideToggle();\n                }\n                searchClick = false;\n\t    });*/\n            \n\t});\n\tkpath = '/'; kda_top(); kda_sid_init(); kda_sid_n=3;\n\t</script>\n</div> <div class=\"breadcumb\">\n<br/>\n<a href=\"/\">KDnuggets Home</a> \u00bb <a href=\"/news/index.html\">News</a> \u00bb <a href=\"/2019/index.html\">2019</a> \u00bb <a href=\"https://www.kdnuggets.com/2019/03/index.html\">Mar</a> \u00bb <a href=\"https://www.kdnuggets.com/2019/03/tutorials.html\">Tutorials, Overviews</a> \u00bb Data Pipelines, Luigi, Airflow: Everything you need to know (\u00a0<a href=\"/2019/n13.html\">19:n13</a>\u00a0)    </div>\n<div class=\"single\" id=\"content\">\n<div id=\"post-header\">\n<h1 id=\"title\">Data Pipelines, Luigi, Airflow: Everything you need to know</h1>\n<div class=\"pagi\">\n<div class=\"pagi-left\">\n<a href=\"https://www.kdnuggets.com/2019/n12.html\" rel=\"prev\"><img height=\"10\" src=\"/images/prv.gif\" width=\"8\"> <strong>Previous post</strong></img></a></div>\n<div class=\"pagi-right\">\n<a href=\"https://www.kdnuggets.com/2019/03/how-choose-right-chart-type.html\" rel=\"next\"><strong>Next post</strong> <img height=\"10\" src=\"/images/nxt.gif\" width=\"8\"/></a></div>\n<br/>\u00a0<br/>\u00a0\n    <div class=\"addthis_native_toolbox\"></div>\n</div>\n<div class=\"tag-data\">Tags: <a href=\"https://www.kdnuggets.com/tag/data-workflow\" rel=\"tag\">Data Workflow</a>, <a href=\"https://www.kdnuggets.com/tag/pipeline\" rel=\"tag\">Pipeline</a>, <a href=\"https://www.kdnuggets.com/tag/python\" rel=\"tag\">Python</a>, <a href=\"https://www.kdnuggets.com/tag/workflow\" rel=\"tag\">Workflow</a></div>\n<br/>\n<p class=\"excerpt\">\n     This post focuses on the workflow management system (WMS) Airflow: what it is, what can you do with it, and how it differs from Luigi.\n  </p>\n</div>\n<div id=\"post-header-ad\">\n<script type=\"text/javascript\">kda_sid_write(1); kda_sid_n=2;</script>\n</div>\n<hr class=\"grey-line\"/><br/>\n<div class=\"post\" id=\"post-\">\n<div align=\"right\"><img alt=\"c\" height=\"12\" src=\"/images/comment.gif\" width=\"16\"/> <a href=\"#comments\">comments</a></div>\n<p><b>By <a href=\"https://www.linkedin.com/in/lorenzo-peppoloni/\" rel=\"noopener noreferrer\" target=\"_blank\">Lorenzo Peppoloni</a>, Lyft</b></p>\n<div style=\"text-align:center\"><img alt=\"Figure\" src=\"https://cdn-images-1.medium.com/max/800/1*RuiyLX5EU0eY41GEQW7EuA.jpeg\" width=\"99%\"><br>\n<font size=\"-1\"></font></br></img></div></div></div></div></div></div></body></html>\n<div class=\"caption\">Photo by <a href=\"https://unsplash.com/photos/m3TYLFI_mDo\" rel=\"noopener\" target=\"_blank\">Gerrie van der Walt</a> on <a href=\"https://unsplash.com/search/photos/pipeline\" rel=\"noopener\" target=\"_blank\">Unsplash</a></div>\n<p></p>\n<p>This post is based on a talk I recently gave to my colleagues about Airflow.</p>\n<p>In particular, the focus of the talk was: what\u2019s Airflow, what can you do with it and how it differs from Luigi.</p>\n<p>\u00a0</p>\n<h3>Why do you need a\u00a0WMS</h3>\n<p>\u00a0<br>\nIt\u2019s really common in a company to have to move and transform data.</br></p>\n<p>For example, you have plenty of logs stored somewhere on S3, and you want to periodically take that data, extract and aggregate meaningful information and then store them in an analytics DB (e.g., Redshift).</p>\n<p>Usually, this kind of tasks are first performed manually, then, as things need to scale up, the process is automated and for example, triggered with cron. Ultimately, you reach a point where the good old cron is not able to guarantee a stable and robust performance. It\u2019s simply not enough anymore.</p>\n<p>That\u2019s when you need a workflow management system (WMS).</p>\n<p>\u00a0</p>\n<h3>Airflow</h3>\n<p>\u00a0<br>\nAirflow was developed at Airbnb in 2014 and it was later open-sourced. In 2016 it joined the Apache Software Foundation\u2019s incubation program.</br></p>\n<p>When asked \u201cWhat makes Airflow different in the WMS landscape?\u201d, Maxime Beauchemin (creator or Airflow) answered:</p>\n<blockquote><p>A key differentiator is the fact that Airflow pipelines are defined as code and that tasks are instantiated dynamically.</p></blockquote>\n<p>Hopefully, at the end of this post, you will be able to understand and, more importantly, to agree (or disagree) with this statement.</p>\n<p>Let\u2019s first define the main concepts.</p>\n<p>\u00a0</p>\n<h3>Workflows as\u00a0DAGs</h3>\n<p>\u00a0<br>\nIn Airflow, a workflow is defined as a collection of tasks with directional dependencies, basically a directed acyclic graph (DAG).</br></p>\n<p>Each node in the graph is a task, and edges define dependencies among the tasks.</p>\n<p>Tasks belong to two categories:</p>\n<ol>\n<li><strong>Operators</strong>: they execute some operation\n<li><strong>Sensors</strong>: they check for the state of a process or a data structure\n</li></li></ol>\n<p>Real-life workflows can go from just one task per workflow (you don\u2019t always have to be fancy) to very complicated DAGs, almost impossible to visualise.</p>\n<p><b>Main components</b></p>\n<p>The main components of Airflow are:</p>\n<ul>\n<li>a\u00a0<strong>Metadata Database</strong>\n<li>a\u00a0<strong>Scheduler</strong>\n<li>an\u00a0<strong>Executor</strong>\n</li></li></li></ul>\n<div style=\"text-align:center\"><img alt=\"Figure\" src=\"https://cdn-images-1.medium.com/max/800/1*-wDxsSr5_2NyOHxysroYyA.png\" width=\"99%\"/><br/>\n<font size=\"-1\"></font></div>\n<div class=\"caption\">Airflow architecture</div>\n<p></p>\n<p>The metadata database stores the state of tasks and workflows. The scheduler uses the DAGs definitions, together with the state of tasks in the metadata database, and decides what needs to be executed.</p>\n<p>The executor is a message queuing process (usually\u00a0<a href=\"http://www.celeryproject.org/]%28http://www.celeryproject.org/\" rel=\"noopener noreferrer\" target=\"_blank\">Celery</a>) which decides which worker will execute each task.</p>\n<p>With the Celery executor, it is possible to manage the distributed execution of tasks. An alternative is to run the scheduler and executor on the same machine. In that case, the parallelism will be managed using multiple processes.</p>\n<p>Airflow provides also a very powerful UI. The user is able to monitor DAGs and tasks execution and directly interact with them through a web UI.</p>\n<p>It is common to read that Airflow follows a\u00a0<em>\u201cset it and forget it\u201d</em>\u00a0approach, but what does that mean?</p>\n<p>It means that once a DAG is set, the scheduler will automatically schedule it to run according to the specified scheduling interval.</p>\n<p>\u00a0</p>\n<h3>Luigi</h3>\n<p>\u00a0<br/>\nThe easiest way to understand Airflow is probably to compare it to Luigi.</p>\n<p>Luigi is a python package to build complex pipelines and it was developed at Spotify.</p>\n<p>In Luigi, as in Airflow, you can specify workflows as tasks and dependencies between them.</p>\n<p>The two building blocks of Luigi are\u00a0<strong>Tasks</strong>\u00a0and\u00a0<strong>Targets</strong>. A target is a file usually outputted by a task, a task performs computations and consumes targets generated by other tasks.</p>\n<div style=\"text-align:center\"><img alt=\"Figure\" src=\"https://cdn-images-1.medium.com/max/800/1*vVV3tw3ZS1XQLZCNAfrMeQ.png\" width=\"99%\"/><br/>\n<font size=\"-1\"></font></div>\n<div class=\"caption\">Luigi pipeline structure</div>\n<p></p>\n<p>You can think about it as an actual pipeline. A task does its job and generates a target as a result, a second task takes the target file in input, performs some operations and output a second target file and so on.</p>\n<div style=\"text-align:center\"><img \"=\"\" alt=\"Figure\" src=\"https://cdn-images-1.medium.com/max/800/1*6H39Hc_zPIRxNjZbFmNbSA.jpeg\" width=\"99%\"/><br/>\n<font size=\"-1\"></font></div>\n<div class=\"caption\">Coffee break (Photo by\u00a0<a href=\"https://unsplash.com/photos/qbrmH8y1jHY\" rel=\"noopener noreferrer\" target=\"_blank\">rawpixel</a>\u00a0on\u00a0<a href=\"https://unsplash.com/search/photos/break\" rel=\"noopener noreferrer\" target=\"_blank\">Unsplash</a>)</div>\n<p></p>\n<p>\u00a0</p>\n<h3>A simple\u00a0workflow</h3>\n<p>\u00a0<br/>\nLet\u2019s see how we can implement a simple pipeline composed of two tasks.</p>\n<p>The first task generate a\u00a0.txt file with a word (\u201cpipeline\u201d in this case), a second task reads the file and decorate the line adding \u201cMy\u201d. The new line is written on a new file.</p>\n<div style=\"text-align:center\"><script src=\"https://gist.github.com/LorePep/9785f01f3b755a51891b64f986d12989.js\"></script><br/>\n<font size=\"-1\"></font></div>\n<div class=\"caption\">Luigi simple pipeline</div>\n<p></p>\n<p>\u00a0</p>\n<p>Each task is specified as a class derived from\u00a0<code>luigi.Task</code>, the method\u00a0<code>output()</code>\u00a0specifies the output thus the target,\u00a0<code>run()</code>specifies the actual computations performed by the task.</p>\n<p>The method\u00a0<code>requires()</code>\u00a0specifies the dependencies between the tasks.</p>\n<p>From the code, it\u2019s pretty straightforward to see that the input of a task is the output of the other and so on.</p>\n<p>Let\u2019s see how we can do the same thing in Airflow.</p>\n<div style=\"text-align:center\"><script src=\"https://gist.github.com/LorePep/1b0d1758f5ee5ca2f76a5a20bb1e9b10.js\"></script><br/>\n<font size=\"-1\"></font></div>\n<div class=\"caption\">Airflow simple DAG</div>\n<p></p>\n<p>\u00a0</p>\n<p>First, we define and initialise the DAG, then we add two operators to the DAG.</p>\n<p>The first one is a\u00a0<code>BashOperator</code>\u00a0which can basically run every bash command or script, the second one is a\u00a0<code>PythonOperator</code>\u00a0executing python code (I used two different operators here for the sake of presentation).</p>\n<p>As you can see, there are no concepts of input and output. No information is shared between the two operators. There are ways to share information between operators (you basically share a string), but as a general rule: if two operators need to share information, then they should be probably combined into a single one.</p>\n<p>\u00a0</p>\n<h3>A more complex\u00a0workflow</h3>\n<p>\u00a0<br/>\nLet\u2019s now consider the case where we want to process more files at the same time.</p>\n<p>In Luigi we can do it in multiple ways, none of which is really straightforward.</p>\n<div style=\"text-align:center\"><script src=\"https://gist.github.com/LorePep/b24f73f1da8876ee9e1204678f852ce7.js\"></script><br/>\n<font size=\"-1\"></font></div>\n<div class=\"caption\">Luigi a pipeline managing multiple files</div>\n<p></p>\n<p>\u00a0</p>\n<p>In this case, we have two tasks, each one of them processes all the files. The dependent task (<code>t2</code>) has to wait until\u00a0<code>t1</code>\u00a0has processed all the files.</p>\n<p>We used an empty file as a target to flag when each task finished its job.</p>\n<p>We could add some parallelisation writing parallel for loops.</p>\n<p>The problem with this solution is that\u00a0<code>t2</code>\u00a0could start to process files gradually as soon as\u00a0<code>t1</code>\u00a0started to produce its output, actually\u00a0<code>t2</code>\u00a0does not have to wait until all the files are created by\u00a0<code>t1</code>.</p>\n<p>A common pattern in Luigi to do this is to create a wrapper task and use multiple workers.</p>\n<p>Here is the code.</p>\n<div style=\"text-align:center\"><script src=\"https://gist.github.com/LorePep/c6abd414cdf48e21c4ef96d23551a006.js\"></script><br/>\n<font size=\"-1\"></font></div>\n<div class=\"caption\">Luigi a pipeline using multiple workers</div>\n<p></p>\n<p>\u00a0</p>\n<p>To run the task with multiple workers we can specify\u200a<code>\u2014\u200aworkers number_of_workers</code>\u00a0when running the task.</p>\n<p>A very common approach that you see in real life is to delegate the parallelisation. Basically, you use the first approach presented and you use Spark for example, inside the\u00a0<code>run()</code>\u00a0function, to actually do the processing.</p>\n<p>\u00a0</p>\n<h3>Let\u2019s do it with\u00a0Airflow</h3>\n<p>\u00a0<br/>\nDo you remember that in the initial quote it was written that DAGs are instantiated dynamically with code?</p>\n<p>But what does that mean exactly?</p>\n<p>It means that with Airflow you can do this</p>\n<div style=\"text-align:center\"><script src=\"https://gist.github.com/LorePep/ec567ac0f926aaedcbbf470c312f3dcf.js\"></script><br/>\n<font size=\"-1\"></font></div>\n<div class=\"caption\">Airflow a parallel DAG with multiple files</div>\n<p></p>\n<p>\u00a0</p>\n<p>Tasks (and dependencies) can be added programmatically (e.g. in a for loop). The corresponding DAG looks like this.</p>\n<div style=\"text-align:center\"><img alt=\"Figure\" src=\"https://cdn-images-1.medium.com/max/800/1*4xY3fyTu5reN2zIpYEUchQ.png\" width=\"99%\"/><br/>\n<font size=\"-1\"></font></div>\n<div class=\"caption\">Parallel DAG</div>\n<p></p>\n<p>\u00a0</p>\n<p>At this point, you don\u2019t have to worry about parallelisation. The Airflow executor knows from the DAG definition, that each branch can be run in parallel and that\u2019s what it does!</p>\n<p>\u00a0</p>\n<h3>Final Considerations</h3>\n<p>\u00a0<br/>\nWe touched a lot of points in this post, we spoke about workflows, about Luigi, about Airflow and how they differ.</p>\n<p>Let\u2019s make a quick recap.</p>\n<p><strong>Luigi</strong></p>\n<ul>\n<li>It\u2019s generally based on pipelines, tasks input and output share information and is connected together\n<li>Target-based approach\n<li>UI is minimal, there is no user interaction with running processes\n<li>Does not have it\u2019s own triggering\n<li>Luigi does not support distributed execution\n</li></li></li></li></li></ul>\n<p><strong>Airflow</strong></p>\n<ul>\n<li>Based on DAGs representation\n<li>In general, no information is shared between tasks, we want to parallelise as much as possible\n<li>No powerful mechanism to communicate between tasks\n<li>It has an executor, which manages distributed execution (you need to set it up)\n<li>The approach is \u201cset it and forget it\u201c since it has its own scheduler\n<li>Powerful UI, you can see executions and interact with running tasks.\n</li></li></li></li></li></li></ul>\n<p>Conclusions: In the article we had a look at Airflow and Luigi and how the two differs in the landscape of workflow management systems. We had a look at some very simple examples of pipelines and how they can implement with both the tools. Finally we summed up the main differences between Luigi and Airflow.</p>\n<p>If you enjoy the article and you found it useful feel free to \ud83d\udc4f or share.</p>\n<p>Cheers</p>\n<p>\u00a0<br/>\n<b>Bio: <a href=\"https://www.linkedin.com/in/lorenzo-peppoloni/\" rel=\"noopener noreferrer\" target=\"_blank\">Lorenzo Peppoloni</a></b> is a tech enthusiast, life-long learner, with a PhD in Robotics. He writes about his day to day experience in Software and Data Engineering.</p>\n<p><a href=\"https://towardsdatascience.com/data-pipelines-luigi-airflow-everything-you-need-to-know-18dc741449b7\" rel=\"noopener noreferrer\" target=\"_blank\">Original</a>. Reposted with permission.</p>\n<p><b>Related:</b></p>\n<ul class=\"three_ul\">\n<li><a href=\"/2018/05/beginners-guide-data-science-pipeline.html\">A Beginner\u2019s Guide to the Data Science Pipeline</a>\n<li><a href=\"/2017/05/data-scientist-improve-productivity.html\">How A Data Scientist Can Improve Productivity</a>\n<li><a href=\"/2018/07/manage-machine-learning-lifecycle-mlflow.html\">Manage your Machine Learning Lifecycle with MLflow\u200a \u2013 \u200aPart 1</a>\n</li></li></li></ul>\n<p><a name=\"comments\"></a></p>\n<div id=\"disqus_thread\"></div>\n<p> <script type=\"text/javascript\">\n var disqus_shortname = 'kdnuggets';\n (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = 'https://kdnuggets.disqus.com/embed.js';\n (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })();\n </script></p>\n\n<div class=\"page-link\"></div>\n<div class=\"pagi\">\n<hr class=\"grey-line\"/>\n<div class=\"pagi-left\">\n<a href=\"https://www.kdnuggets.com/2019/n12.html\" rel=\"prev\"><img height=\"10\" src=\"/images/prv.gif\" width=\"8\"/> <strong>Previous post</strong></a></div>\n<div class=\"pagi-right\">\n<a href=\"https://www.kdnuggets.com/2019/03/how-choose-right-chart-type.html\" rel=\"next\"><strong>Next post</strong> <img height=\"10\" src=\"/images/nxt.gif\" width=\"8\"/></a></div>\n<br/><br/>\n<div>\n<hr class=\"grey-line\"/><br/>\n<h2>Top Stories Past 30 Days</h2>\n<table align=\"center\" cellpadding=\"3\" cellspacing=\"10\" class=\"latn\" width=\"100%\">\n<tr>\n<td valign=\"top\" width=\"50%\">\n<table cellpadding=\"3\" cellspacing=\"2\">\n<tr><th><b>Most Popular</b></th></tr>\n<tr><td>\n<ol class=\"three_ol\"><li> <a href=\"/2019/03/another-10-free-must-read-books-for-machine-learning-and-data-science.html\" onclick=\"ga('send','pageview','/x/pbc/2019/03-26-mp-1-another-10');\"><b>Another 10 Free Must-Read Books for Machine Learning and Data Science</b></a>\n<li> <a href=\"/2018/05/simplilearn-9-must-have-skills-data-scientist.html\" onclick=\"ga('send','pageview','/x/pbc/2019/03-26-mp-2-simplilearn');\"><b>9 Must-have skills you need to become a Data Scientist, updated</b></a>\n<li> <a href=\"/2019/03/data-science-job-applications.html\" onclick=\"ga('send','pageview','/x/pbc/2019/03-26-mp-3-tell-you');\"><b>What no one will tell you about data science job applications</b></a>\n<li> <a href=\"/2019/03/typical-data-scientist-2019.html\" onclick=\"ga('send','pageview','/x/pbc/2019/03-26-mp-4-typical');\"><b>Who is a typical Data Scientist in 2019?</b></a>\n<li> <a href=\"/2019/02/asking-great-questions-data-scientist.html\" onclick=\"ga('send','pageview','/x/pbc/2019/03-26-mp-5-great-questions');\"><b>Asking Great Questions as a Data Scientist</b></a>\n<li> <a href=\"/2019/03/pareto-principle-data-scientists.html\" onclick=\"ga('send','pageview','/x/pbc/2019/03-26-mp-6-pareto');\"><b>The Pareto Principle for Data Scientists</b></a>\n<li> <a href=\"/2019/03/women-ai-big-data-science-machine-learning.html\" onclick=\"ga('send','pageview','/x/pbc/2019/03-26-mp-7-19-inspiring-women');\"><b>19 Inspiring Women in AI, Big Data, Data Science, Machine Learning</b></a>\n</li></li></li></li></li></li></li></ol>\n</td></tr>\n</table>\n</td> <td valign=\"top\">\n<table cellpadding=\"3\" cellspacing=\"2\">\n<tr><th><b>Most Shared</b></th></tr>\n<tr><td><ol class=\"three_ol\">\n<li> <a href=\"/2019/03/artificial-neural-networks-optimization-genetic-algorithm-python.html\" onclick=\"ga('send','pageview','/x/pbc/2019/03-26-ms-1-ann-genetic');\"><b>Artificial Neural Networks Optimization using Genetic Algorithm with Python</b></a>\n<li> <a href=\"/2019/02/artificial-neural-network-implementation-using-numpy-and-image-classification.html\" onclick=\"ga('send','pageview','/x/pbc/2019/03-26-ms-2-ann-numpy-images');\"><b>Artificial Neural Network Implementation using NumPy and Image Classification</b></a>\n<li> <a href=\"/2019/02/setup-python-environment-machine-learning.html\" onclick=\"ga('send','pageview','/x/pbc/2019/03-26-ms-3-py-ml-setup');\"><b>How to Setup a Python Environment for Machine Learning</b></a>\n<li> <a href=\"/2019/03/typical-data-scientist-2019.html\" onclick=\"ga('send','pageview','/x/pbc/2019/03-26-ms-4-typical');\"><b>Who is a typical Data Scientist in 2019?</b></a>\n<li> <a href=\"/2019/03/simplilearn-8-reasons-microsoft-azure-certification.html\" onclick=\"ga('send','pageview','/x/pbc/2019/03-26-ms-5-azure-cert');\"><b>8 Reasons Why You Should Get a Microsoft Azure Certification</b></a>\n<li> <a href=\"/2019/03/pareto-principle-data-scientists.html\" onclick=\"ga('send','pageview','/x/pbc/2019/03-26-ms-6-pareto');\"><b>The Pareto Principle for Data Scientists</b></a>\n<li> <a href=\"/2019/02/running-r-and-python-in-jupyter.html\" onclick=\"ga('send','pageview','/x/pbc/2019/03-26-ms-7-r-python-jupyter');\"><b>Running R and Python in Jupyter</b></a>\n</li></li></li></li></li></li></li></ol>\n</td></tr>\n</table>\n</td>\n</tr>\n</table>\n</div>\n</div>\n<!--#content end-->\n<div id=\"sidebar\">\n<div class=\"latn\">\n<h3><b><a href=\"/news/index.html\">Latest News</a></b></h3>\n<ul style=\"font-size:14px; margin-top:5px\">\n<li> <a href=\"https://www.kdnuggets.com/2019/03/datathon-data-science-hackathon-april.html\">Datathon 2019: The International Data Science Hackathon...</a><li> <a href=\"https://www.kdnuggets.com/2019/03/random-forest-python.html\">Explaining Random Forest (with Python Implementation)</a><li> <a href=\"https://www.kdnuggets.com/2019/03/beginners-guide-linear-regression-python-scikit-learn.html\">A Beginner\u2019s Guide to Linear Regression in Python wit...</a><li> <a href=\"https://www.kdnuggets.com/2019/03/interpolation-autoencoders-adversarial-regularizer.html\">Interpolation in Autoencoders via an Adversarial Regula...</a><li> <a href=\"https://www.kdnuggets.com/jobs/19/03-29-cisco-machine-learning-engineer-support-bot-b.html\">Cisco: Machine Learning Engineer/Support Bot Designer [...</a><li> <a href=\"https://www.kdnuggets.com/2019/03/delaware-gain-skills-need-data-driven-career.html\">Gain the Skills You Need to Level-Up in Your Data-Drive...</a></li></li></li></li></li></li></ul>\n</div>\n<div>\n<script type=\"text/javascript\">kda_sid_write(kda_sid_n);</script>\n</div>\n<br/><script src=\"/aps/sbm.js\" type=\"text/javascript\"></script>\n</div>\n<div class=\"breadcrumbs_bottom\">\n<div class=\"breadcumb\">\n<br>\n<a href=\"/\">KDnuggets Home</a> \u00bb <a href=\"/news/index.html\">News</a> \u00bb <a href=\"/2019/index.html\">2019</a> \u00bb <a href=\"https://www.kdnuggets.com/2019/03/index.html\">Mar</a> \u00bb <a href=\"https://www.kdnuggets.com/2019/03/tutorials.html\">Tutorials, Overviews</a> \u00bb Data Pipelines, Luigi, Airflow: Everything you need to know (\u00a0<a href=\"/2019/n13.html\">19:n13</a>\u00a0)    </br></div>\n</div>\n<!--#content_wrapper end-->\n<br>\n<div id=\"footer\">\n<br/>\u00a9 2019 KDnuggets. <a href=\"/about/index.html\">About KDnuggets</a>. \u00a0<a href=\"/news/privacy-policy.html\">Privacy policy</a>. <a href=\"/terms-of-service.html\">Terms of Service</a><br/>\u00a0\n<div class=\"kd_bottom\">\n<div class=\"footer-container\">\n<div class=\"footer-news\">\n<a href=\"/news/subscribe.html\" onclick=\"_gaq.push(['_trackPageview','/x/bot/sub']);\" target=\"_blank\"><b>Subscribe to KDnuggets News</b></a>\n</div>\n<div class=\"footer-sm\">\n<a href=\"https://twitter.com/kdnuggets\" onclick=\"_gaq.push(['_trackPageview','/x/bot/twt']);\" target=\"_blank\"><img height=\"32\" src=\"/images/tw_c48.png\" width=\"32\"/></a>\n<a href=\"https://facebook.com/kdnuggets\" onclick=\"_gaq.push(['_trackPageview','/x/bot/fb']);\" target=\"_blank\"><img alt=\"Facebook\" height=\"32\" src=\"/images/fb_c48.png\" width=\"32\"/></a>\n<a href=\"https://www.linkedin.com/groups/54257\" onclick=\"_gaq.push(['_trackPageview','/x/bot/in']);\" target=\"_blank\"><img alt=\"LinkedIn\" height=\"32\" src=\"/images/in_c48.png\" width=\"32\"/></a>\n</div>\n</div>\n<div class=\"close-footer\">X</div>\n</div>\n<script type=\"text/javascript\">\n  jQuery('.close-footer').click(\n      function(){       \n         jQuery('.kd_bottom').hide();\n      }\n   );\n</script> </div>\n<div class=\"clear\"><!--blank--></div>\n</br>\n<div style=\"display: none;\"><div id=\"boxzilla-box-82996-content\"><script type=\"text/javascript\">(function() {\n\tif (!window.mc4wp) {\n\t\twindow.mc4wp = {\n\t\t\tlisteners: [],\n\t\t\tforms    : {\n\t\t\t\ton: function (event, callback) {\n\t\t\t\t\twindow.mc4wp.listeners.push({\n\t\t\t\t\t\tevent   : event,\n\t\t\t\t\t\tcallback: callback\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n})();\n</script><!-- MailChimp for WordPress v4.1.14 - https://wordpress.org/plugins/mailchimp-for-wp/ --><form class=\"mc4wp-form mc4wp-form-77281\" data-id=\"77281\" data-name=\"Subscribe to KDnuggets News\" id=\"mc4wp-form-1\" method=\"post\"><div class=\"mc4wp-form-fields\"><div class=\"header-container\">\n<img align=\"left\" src=\"/wp-content/uploads/envelope.png\"><a href=\"/news/subscribe.html\">Get KDnuggets, a leading newsletter on AI, \r\n  Data Science, and Machine Learning</a>\n</img></div>\n<div class=\"form-fields\">\n<div class=\"field-container\"><label>Email:</label><input maxlength=\"60\" name=\"EMAIL\" placeholder=\"Your email\" required=\"\" size=\"30\" type=\"email\"/></div>\n<div class=\"field-container submit-container\"><div class=\"form-button\" onclick=\"document.getElementById('mc4wp-form-1').submit()\">Sign Up</div></div>\n</div>\n<label style=\"display: none !important;\">Leave this field empty if you're human: <input autocomplete=\"off\" name=\"_mc4wp_honeypot\" tabindex=\"-1\" type=\"text\" value=\"\"/></label><input name=\"_mc4wp_timestamp\" type=\"hidden\" value=\"1553992994\"/><input name=\"_mc4wp_form_id\" type=\"hidden\" value=\"77281\"/><input name=\"_mc4wp_form_element_id\" type=\"hidden\" value=\"mc4wp-form-1\"/></div><div class=\"mc4wp-response\"></div></form><!-- / MailChimp for WordPress Plugin -->\n</div></div><script type=\"text/javascript\">(function() {function addEventListener(element,event,handler) {\n\tif(element.addEventListener) {\n\t\telement.addEventListener(event,handler, false);\n\t} else if(element.attachEvent){\n\t\telement.attachEvent('on'+event,handler);\n\t}\n}function maybePrefixUrlField() {\n\tif(this.value.trim() !== '' && this.value.indexOf('http') !== 0) {\n\t\tthis.value = \"http://\" + this.value;\n\t}\n}\n\nvar urlFields = document.querySelectorAll('.mc4wp-form input[type=\"url\"]');\nif( urlFields && urlFields.length > 0 ) {\n\tfor( var j=0; j < urlFields.length; j++ ) {\n\t\taddEventListener(urlFields[j],'blur',maybePrefixUrlField);\n\t}\n}/* test if browser supports date fields */\nvar testInput = document.createElement('input');\ntestInput.setAttribute('type', 'date');\nif( testInput.type !== 'date') {\n\n\t/* add placeholder & pattern to all date fields */\n\tvar dateFields = document.querySelectorAll('.mc4wp-form input[type=\"date\"]');\n\tfor(var i=0; i<dateFields.length; i++) {\n\t\tif(!dateFields[i].placeholder) {\n\t\t\tdateFields[i].placeholder = 'YYYY-MM-DD';\n\t\t}\n\t\tif(!dateFields[i].pattern) {\n\t\t\tdateFields[i].pattern = '[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])';\n\t\t}\n\t}\n}\n\n})();</script><script type=\"text/javascript\">\n/* <![CDATA[ */\nvar boxzilla_options = {\"testMode\":\"\",\"boxes\":[{\"id\":82996,\"icon\":\"&times;\",\"content\":\"\",\"css\":{\"background_color\":\"#eeee22\",\"width\":600,\"border_width\":2,\"border_style\":\"double\",\"position\":\"bottom-right\"},\"trigger\":{\"method\":\"time_on_page\",\"value\":\"3\"},\"animation\":\"fade\",\"cookie\":{\"triggered\":0,\"dismissed\":336},\"rehide\":true,\"position\":\"bottom-right\",\"screenWidthCondition\":{\"condition\":\"larger\",\"value\":500},\"closable\":true,\"post\":{\"id\":82996,\"title\":\"Subscribe to KDnuggets\",\"slug\":\"subscribe-to-kdnuggets\"}}]};\n/* ]]> */\n</script>\n<script src=\"https://www.kdnuggets.com/wp-content/plugins/boxzilla/assets/js/script.min.js?ver=3.2.5\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">\n/* <![CDATA[ */\nvar boxzilla_stats_config = {\"ajaxurl\":\"https:\\/\\/www.kdnuggets.com\\/wp-admin\\/admin-ajax.php?action=boxzilla_stats_track\"};\n/* ]]> */\n</script>\n<script src=\"https://www.kdnuggets.com/wp-content/plugins/boxzilla-stats/assets/js/tracking.min.js?ver=1.0.4\" type=\"text/javascript\"></script>\n<script src=\"https://www.kdnuggets.com/wp-includes/js/wp-embed.min.js?ver=4.9.10\" type=\"text/javascript\"></script>\n<script type=\"text/javascript\">\n/* <![CDATA[ */\nvar mc4wp_forms_config = [];\n/* ]]> */\n</script>\n<script src=\"https://www.kdnuggets.com/wp-content/plugins/mailchimp-for-wp/assets/js/forms-api.min.js?ver=4.1.14\" type=\"text/javascript\"></script>\n<!--[if lte IE 9]>\n<script type='text/javascript' src='https://www.kdnuggets.com/wp-content/plugins/mailchimp-for-wp/assets/js/third-party/placeholders.min.js?ver=4.1.14'></script>\n<![endif]-->\n<!--/.main_wrapper-->\n<script src=\"https://s7.addthis.com/js/300/addthis_widget.js#pubid=gpsaddthis\" type=\"text/javascript\"></script>\n\n\n<!-- Dynamic page generated in 0.754 seconds. -->\n<!-- Cached page generated by WP-Super-Cache on 2019-03-30 20:43:14 -->\n<!-- Compression = gzip -->", "content_html": "<div class=\"post\" id=\"post-\">\n<div align=\"right\"><img alt=\"c\" height=\"12\" src=\"/images/comment.gif\" width=\"16\"/> <a href=\"#comments\">comments</a></div>\n<p><b>By <a href=\"https://www.linkedin.com/in/lorenzo-peppoloni/\" rel=\"noopener noreferrer\" target=\"_blank\">Lorenzo Peppoloni</a>, Lyft</b></p>\n<div style=\"text-align:center\"><img alt=\"Figure\" src=\"https://cdn-images-1.medium.com/max/800/1*RuiyLX5EU0eY41GEQW7EuA.jpeg\" width=\"99%\"><br>\n<font size=\"-1\"></font></br></img></div></div>"}