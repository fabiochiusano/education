{"title_html": "<h1>Python - MySQL Database Access</h1>", "content": "\n Python - MySQL Database Access \n  \n Advertisements \n \n<!--\ngoogle_ad_client = \"pub-7133395778201029\";\ngoogle_ad_width = 468;\ngoogle_ad_height = 60;\ngoogle_ad_format = \"468x60_as\";\ngoogle_ad_type = \"image\";\ngoogle_ad_channel = \"\";\n//-->\n\n\n \n  \n \n Previous Page\n \n \nNext Page \u00a0\n \n  \n  \n The Python standard for database interfaces is the Python DB-API. Most Python database interfaces adhere to this standard. \n You can choose the right database for your application. Python Database API supports a wide range of database servers such as \u2212 \n \nGadFly\nmSQL\nMySQL\nPostgreSQL\nMicrosoft SQL Server 2000\nInformix\nInterbase\nOracle\nSybase\n \n Here is the list of available Python database interfaces: Python Database Interfaces and APIs. You must download a separate DB API module for each database you need to access. For example, if you need to access an Oracle database as well as a MySQL database, you must download both the Oracle and the MySQL database modules. \n The DB API provides a minimal standard for working with databases using Python structures and syntax wherever possible. This API includes the following \u2212 \n \nImporting the API module.\nAcquiring a connection with the database.\nIssuing SQL statements and stored procedures.\nClosing the connection\n \n We would learn all the concepts using MySQL, so let us talk about MySQLdb module. \n What is MySQLdb? \n MySQLdb is an interface for connecting to a MySQL database server from Python. It implements the Python Database API v2.0 and is built on top of the MySQL C API. \n How do I Install MySQLdb? \n Before proceeding, you make sure you have MySQLdb installed on your machine. Just type the following in your Python script and execute it \u2212 \n \n#!/usr/bin/python\n\nimport MySQLdb\n \n If it produces the following result, then it means MySQLdb module is not installed \u2212 \n \nTraceback (most recent call last):\n   File \"test.py\", line 3, in <module>\n      import MySQLdb\nImportError: No module named MySQLdb\n \n To install MySQLdb module, use the following command \u2212 \n \nFor Ubuntu, use the following command -\n$ sudo apt-get install python-pip python-dev libmysqlclient-dev\nFor Fedora, use the following command -\n$ sudo dnf install python python-devel mysql-devel redhat-rpm-config gcc\nFor Python command prompt, use the following command -\npip install MySQL-python\n \n Note \u2212 Make sure you have root privilege to install above module. \n Database Connection \n Before connecting to a MySQL database, make sure of the followings \u2212 \n \nYou have created a database TESTDB.\nYou have created a table EMPLOYEE in TESTDB.\nThis table has fields FIRST_NAME, LAST_NAME, AGE, SEX and INCOME.\nUser ID \"testuser\" and password \"test123\" are set to access TESTDB.\nPython module MySQLdb is installed properly on your machine.\nYou have gone through MySQL tutorial to understand MySQL Basics.\n\n \n Example \n Following is the example of connecting with MySQL database \"TESTDB\" \n \n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using cursor() method\ncursor = db.cursor()\n\n# execute SQL query using execute() method.\ncursor.execute(\"SELECT VERSION()\")\n\n# Fetch a single row using fetchone() method.\ndata = cursor.fetchone()\nprint \"Database version : %s \" % data\n\n# disconnect from server\ndb.close()\n \n While running this script, it is producing the following result in my Linux machine. \n \nDatabase version : 5.0.45\n \n If a connection is established with the datasource, then a Connection Object is returned and saved into db for further use, otherwise db is set to None. Next, db object is used to create a cursor object, which in turn is used to execute SQL queries. Finally, before coming out, it ensures that database connection is closed and resources are released. \n Creating Database Table \n Once a database connection is established, we are ready to create tables or records into the database tables using execute method of the created cursor. \n Example \n Let us create Database table EMPLOYEE \u2212 \n \n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using cursor() method\ncursor = db.cursor()\n\n# Drop table if it already exist using execute() method.\ncursor.execute(\"DROP TABLE IF EXISTS EMPLOYEE\")\n\n# Create table as per requirement\nsql = \"\"\"CREATE TABLE EMPLOYEE (\n         FIRST_NAME  CHAR(20) NOT NULL,\n         LAST_NAME  CHAR(20),\n         AGE INT,  \n         SEX CHAR(1),\n         INCOME FLOAT )\"\"\"\n\ncursor.execute(sql)\n\n# disconnect from server\ndb.close()\n \n INSERT Operation \n It is required when you want to create your records into a database table. \n Example \n The following example, executes SQL INSERT statement to create a record into EMPLOYEE table \u2212 \n \n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using cursor() method\ncursor = db.cursor()\n\n# Prepare SQL query to INSERT a record into the database.\nsql = \"\"\"INSERT INTO EMPLOYEE(FIRST_NAME,\n         LAST_NAME, AGE, SEX, INCOME)\n         VALUES ('Mac', 'Mohan', 20, 'M', 2000)\"\"\"\ntry:\n   # Execute the SQL command\n   cursor.execute(sql)\n   # Commit your changes in the database\n   db.commit()\nexcept:\n   # Rollback in case there is any error\n   db.rollback()\n\n# disconnect from server\ndb.close()\n \n Above example can be written as follows to create SQL queries dynamically \u2212 \n \n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using cursor() method\ncursor = db.cursor()\n\n# Prepare SQL query to INSERT a record into the database.\nsql = \"INSERT INTO EMPLOYEE(FIRST_NAME, \\\n       LAST_NAME, AGE, SEX, INCOME) \\\n       VALUES ('%s', '%s', '%d', '%c', '%d' )\" % \\\n       ('Mac', 'Mohan', 20, 'M', 2000)\ntry:\n   # Execute the SQL command\n   cursor.execute(sql)\n   # Commit your changes in the database\n   db.commit()\nexcept:\n   # Rollback in case there is any error\n   db.rollback()\n\n# disconnect from server\ndb.close()\n \n Example \n Following code segment is another form of execution where you can pass parameters directly \u2212 \n \n..................................\nuser_id = \"test123\"\npassword = \"password\"\n\ncon.execute('insert into Login values(\"%s\", \"%s\")' % \\\n             (user_id, password))\n..................................\n \n READ Operation \n READ Operation on any database means to fetch some useful information from the database. \n Once our database connection is established, you are ready to make a query into this database. You can use either fetchone() method to fetch single record or fetchall() method to fetech multiple values from a database table. \n \nfetchone() \u2212 It fetches the next row of a query result set. A result set is an object that is returned when a cursor object is used to query a table.\nfetchall() \u2212 It fetches all the rows in a result set. If some rows have already been extracted from the result set, then it retrieves\nthe remaining rows from the result set.\nrowcount \u2212 This is a read-only attribute and returns the number of rows that were affected by an execute() method.\n \n Example \n The following procedure queries all the records from EMPLOYEE table having salary more than 1000 \u2212 \n \n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using cursor() method\ncursor = db.cursor()\n\nsql = \"SELECT * FROM EMPLOYEE \\\n       WHERE INCOME > '%d'\" % (1000)\ntry:\n   # Execute the SQL command\n   cursor.execute(sql)\n   # Fetch all the rows in a list of lists.\n   results = cursor.fetchall()\n   for row in results:\n      fname = row[0]\n      lname = row[1]\n      age = row[2]\n      sex = row[3]\n      income = row[4]\n      # Now print fetched result\n      print \"fname=%s,lname=%s,age=%d,sex=%s,income=%d\" % \\\n             (fname, lname, age, sex, income )\nexcept:\n   print \"Error: unable to fecth data\"\n\n# disconnect from server\ndb.close()\n \n This will produce the following result \u2212 \n \nfname=Mac, lname=Mohan, age=20, sex=M, income=2000\n \n Update Operation \n UPDATE Operation on any database means to update one or more records, which are already available in the database. \n The following procedure updates all the records having SEX as 'M'. Here, we increase AGE of all the males by one year. \n Example \n \n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using cursor() method\ncursor = db.cursor()\n\n# Prepare SQL query to UPDATE required records\nsql = \"UPDATE EMPLOYEE SET AGE = AGE + 1\n                          WHERE SEX = '%c'\" % ('M')\ntry:\n   # Execute the SQL command\n   cursor.execute(sql)\n   # Commit your changes in the database\n   db.commit()\nexcept:\n   # Rollback in case there is any error\n   db.rollback()\n\n# disconnect from server\ndb.close()\n \n DELETE Operation \n DELETE operation is required when you want to delete some records from your database. Following is the  procedure to delete all the records from EMPLOYEE where AGE is more than 20 \u2212 \n Example \n \n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using cursor() method\ncursor = db.cursor()\n\n# Prepare SQL query to DELETE required records\nsql = \"DELETE FROM EMPLOYEE WHERE AGE > '%d'\" % (20)\ntry:\n   # Execute the SQL command\n   cursor.execute(sql)\n   # Commit your changes in the database\n   db.commit()\nexcept:\n   # Rollback in case there is any error\n   db.rollback()\n\n# disconnect from server\ndb.close()\n \n Performing Transactions \n Transactions are a mechanism that ensures data consistency. Transactions have the following four properties \u2212 \n \nAtomicity \u2212 Either a transaction completes or nothing happens at all.\nConsistency \u2212 A transaction must start in a consistent state and leave the system in a consistent state.\nIsolation \u2212 Intermediate results of a transaction are not visible outside the current transaction.\nDurability \u2212 Once a transaction was committed, the effects are persistent, even after a system failure.\n \n The Python DB API 2.0 provides two methods to either commit or rollback a transaction. \n Example \n You already know how to implement transactions. Here is again similar example \u2212 \n \n# Prepare SQL query to DELETE required records\nsql = \"DELETE FROM EMPLOYEE WHERE AGE > '%d'\" % (20)\ntry:\n   # Execute the SQL command\n   cursor.execute(sql)\n   # Commit your changes in the database\n   db.commit()\nexcept:\n   # Rollback in case there is any error\n   db.rollback()\n \n COMMIT Operation \n Commit is the operation, which gives a green signal to database to finalize the changes, and after this operation, no change can be reverted back. \n Here is a simple example to call commit method. \n \ndb.commit()\n \n ROLLBACK Operation \n If you are not satisfied with one or more of the changes and you want to revert back those changes completely, then use rollback() method. \n Here is a simple example to call rollback() method. \n \ndb.rollback()\n \n Disconnecting Database \n To disconnect Database connection, use close() method. \n \ndb.close()\n \n If the connection to a database is closed by the user with the close() method, any outstanding transactions are rolled back by the DB. However, instead of depending on any of DB lower level implementation details, your application would be better off calling commit or rollback explicitly. \n Handling Errors \n There are many sources of errors. A few examples are a syntax error in an executed SQL statement, a connection failure, or calling the fetch method for an already canceled or finished statement handle. \n The DB API defines a number of errors that must exist in each database module. The following table lists these exceptions. \n \n\nSr.No.\nException & Description\n\n\n1\nWarning\nUsed for non-fatal issues. Must subclass StandardError.\n\n\n2\nError\nBase class for errors. Must subclass StandardError.\n\n\n3\nInterfaceError\nUsed for errors in the database module, not the database itself. Must subclass Error.\n\n\n4\nDatabaseError\nUsed for errors in the database. Must subclass Error.\n\n\n5\nDataError\nSubclass of DatabaseError that refers to errors in the data.\n\n\n6\nOperationalError\nSubclass of DatabaseError that refers to errors such as the loss of a connection to the database. These errors are generally outside of the control of the Python scripter.\n\n\n7\nIntegrityError\nSubclass of DatabaseError for situations that would damage the relational integrity, such as uniqueness constraints or foreign keys.\n\n\n8\nInternalError\nSubclass of DatabaseError that refers to errors internal to the database module, such as a cursor no longer being active.\n\n\n9\nProgrammingError\nSubclass of DatabaseError that refers to errors such as a bad table name and other things that can safely be blamed on you.\n\n\n10\nNotSupportedError\nSubclass of DatabaseError that refers to trying to call unsupported functionality.\n\n \n Your Python scripts should handle these errors, but before using any of the above exceptions, make sure your MySQLdb has support for that exception. You can get more information about them by reading the DB API 2.0 specification. \n  \n \n Previous Page\n \n \n Print\n \n \nNext Page \u00a0\n \n  \n  PRINTING ENDS HERE  \n \nAdvertisements\n<!--\nvar width = 580;\nvar height = 400;\nvar format = \"580x400_as\";\nif( window.innerWidth < 468 ){\n   width = 300;\n   height = 250;\n   format = \"300x250_as\";\n}\ngoogle_ad_client = \"pub-7133395778201029\";\ngoogle_ad_width = width;\ngoogle_ad_height = height;\ngoogle_ad_format = format;\ngoogle_ad_type = \"image\";\ngoogle_ad_channel =\"\";\n//-->\n\n\n \n", "url": "https://www.tutorialspoint.com/python/python_database_access.htm", "html": "<!DOCTYPE html>\n\n<!--[if IE 8]><html class=\"ie ie8\"> <![endif]-->\n<!--[if IE 9]><html class=\"ie ie9\"> <![endif]-->\n<!--[if gt IE 9]><!--> <html> <!--<![endif]-->\n<head>\n<!-- Basic -->\n<meta charset=\"utf-8\"/>\n<title>Python MySQL Database Access</title>\n<meta content=\"Python MySQL Database Access - Learn Python in simple and easy steps starting from basic to advanced concepts with examples including Python Syntax Object Oriented Language, Methods, Tuples, Tools/Utilities, Exceptions Handling, Sockets, GUI, Extentions, XML Programming.\" name=\"description\">\n<meta content=\"Python, Tutorials, Learning, Beginners, Basics, Object Oriented Language, Methods, Overriding, Networking, Multithreading,Methods, Tuples, Tools/Utilities, Exceptions Handling, Sockets, GUI, Extentions, XML, Programming.\" name=\"Keywords\"/>\n<base href=\"https://www.tutorialspoint.com/\"/>\n<link href=\"/favicon.ico\" rel=\"shortcut icon\" type=\"image/x-icon\"/>\n<meta content=\"width=device-width,initial-scale=1.0,user-scalable=yes\" name=\"viewport\"/>\n<meta content=\"en_US\" property=\"og:locale\">\n<meta content=\"website\" property=\"og:type\"/>\n<meta content=\"471319149685276\" property=\"fb:app_id\"/>\n<meta content=\"www.tutorialspoint.com\" property=\"og:site_name\"/>\n<meta content=\"yes\" name=\"apple-mobile-web-app-capable\"/>\n<meta content=\"black\" name=\"apple-mobile-web-app-status-bar-style\"/>\n<meta content=\"tutorialspoint.com\" name=\"author\"/>\n<script src=\"https://www.tutorialspoint.com/theme/js/script-min-v4.js?v=2\" type=\"text/javascript\"></script>\n<link href=\"https://www.tutorialspoint.com/theme/css/style-min.css?v=3.1\" rel=\"stylesheet\"/>\n<script>\r\nfunction openNav() {\t\r\n  document.getElementById(\"mySidenav\").style.width = \"250px\";\r\n  document.getElementById(\"right_obs\").style.display = \"block\";\r\n}\r\nfunction closeNav() {\r\n  document.getElementById(\"mySidenav\").style.width = \"0\";\r\n  document.getElementById(\"right_obs\").style.display = \"none\";\r\n}\r\nfunction close_obs_sidenav(){\r\n  document.getElementById(\"mySidenav\").style.width = \"0\";\r\n  document.getElementById(\"right_obs\").style.display = \"none\";\r\n}\r\n</script>\n<!-- Head Libs -->\n<!--[if IE 8]>\r\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/theme/css/ie8.css\">\r\n<![endif]-->\n<style>\r\n#privacy-banner {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    max-width: 100%;\r\n    padding: 1rem .5rem;\r\n    background: #fff;\r\n    z-index: 1030;\r\n    color: #000;\r\n    font-size: 14px;\r\n    margin: 0;\r\n    display: none;\r\n    border-top: 2px solid rgb(130, 130, 130);\r\n  }\r\n  #privacy-banner p {\r\n    margin: 0;\r\n    color: #000;\r\n    text-align: center;\r\n  }\r\n  #privacy-banner a {\r\n    text-decoration: none;\r\n    margin: 20px auto 0 auto;\r\n    display: block;\r\n    max-width: 150px;\r\n  }\r\n  #privacy-banner a:hover {\r\n    text-decoration: underline;\r\n  }\r\n  #banner-learn {\r\n    color: #000;\r\n  }\r\n  #banner-accept {\r\n    padding: 7px 15px;\r\n    color: #fff;\r\n    border-radius: 5px;\r\n    background:#737373 !important;\r\n  }\r\n  @media (min-width: 768px) {\r\n    #privacy-banner {\r\n      padding: 1.5rem .5rem;\r\n    }\r\n    #privacy-banner a {\r\n      display: inline-block;\r\n      margin: 0 10px;\r\n    }\r\n}\r\npre.prettyprint.tryit {min-height:37px; background: #eee url(/python/images/try-it.jpg) top right no-repeat !important}select{ border:0 !important; outline: 1px inset black !important; outline-offset: -1px !important; }\r\n.btnsbmt{ background: #fdbf00 !important;}\r\nul.nav-list.primary>li a.videolink{    background: none; margin: 0px; padding: 0px; border: 1px solid #d6d6d6;}\r\ndiv.feature-box div.feature-box-icon, .col-md-3 .course-box, li.heading, div.footer-copyright { background: #fdbf00 url(/images/pattern.png) repeat center center !important;}\r\n.sub-main-menu .sub-menuu div:hover, .sub-main-menu .viewall, header nav ul.nav-main li a:hover, button.btn-responsive-nav, header div.search button.btn-default { background: #fdbf00 !important;}\r\n.submenu-item{ border-bottom: 2px solid #fdbf00 !important; border-top: 2px solid #fdbf00 !important }\r\n.ace_scroller{overflow: auto!important;}\r\na.demo{font-family: \"Open Sans\",Arial,sans-serif; background:#fdbf00; color:#fff; font-size:13px; padding:3px 10px; border:1px solid #d6d6d6; position:absolute; right:5px; margin:-6px 17px 0px 0px;}\r\na.demo:hover{opacity:.8}\r\n</style>\n<script>\r\n$(document).ready(function() {\r\n  $('input[name=\"q\"]').keydown(function(event){\r\n    if(event.keyCode == 13) {\r\n      event.preventDefault();\r\n      return false;\r\n    }\r\n  });\r\n});\r\n</script>\n</meta></meta></head>\n<body onload=\"prettyPrint()\">\n<div class=\"wrapLoader\">\n<div class=\"imgLoader\">\n<img alt=\"\" height=\"70\" src=\"/images/loading-cg.gif\" width=\"70\"/>\n</div>\n</div>\n<div class=\"display-none\" id=\"right_obs\" onclick=\"close_obs_sidenav()\"></div>\n<header>\n<div class=\"container\">\n<h1 class=\"logo\">\n<a href=\"index.htm\" title=\"tutorialspoint\">\n<img alt=\"tutorialspoint\" src=\"/python/images/logo.png\"/>\n</a>\n</h1>\n<ul class=\"tp-inline-block pull-right\" id=\"tp-head-icons\">\n<li>\n<div class=\"tp-second-nav tp-display-none tp-pointer\" onclick=\"openNav()\">\n<i class=\"fa fa-th-large fa-lg\"></i>\n</div>\n</li>\n</ul>\n<button class=\"btn btn-responsive-nav btn-inverse\" data-target=\".nav-main-collapse\" data-toggle=\"collapse\" id=\"pull\" style=\"top: 24px!important\"> <i class=\"icon icon-bars\"></i> </button>\n<nav>\n<ul class=\"nav nav-pills nav-top\">\n<li><a href=\"/about/about_careers.htm\" style=\"background: #fffb09; font-weight: bold;\"><i class=\"icon icon-suitcase\"></i> Jobs</a></li>\n<li> <a href=\"/programming_examples/\" target=\"_blank\"><i class=\"fa fa-cubes\"></i> \u00a0Examples</a> </li>\n<li> <a href=\"https://www.tutorialspoint.com/whiteboard.htm\"><img alt=\"Whiteboard\" src=\"theme/css/icons/image-editor.png\" title=\"Whiteboard\"/> \u00a0Whiteboard</a> </li>\n<li> <a href=\"https://www.tutorialspoint.com/netmeeting.php\"><i class=\"fa-camera\"></i> \u00a0Net Meeting</a> </li>\n<li> <a href=\"/online_dev_tools.htm\"> <i class=\"dev-tools-menu\" style=\"opacity:.5\"></i> Tools </a> </li>\n<li> <a href=\"/articles/index.php\"><i class=\"icon icon-file-text-o\"></i> \u00a0Articles</a> </li>\n<li class=\"top-icons\">\n<ul class=\"social-icons\">\n<li class=\"facebook\"><a data-placement=\"bottom\" href=\"https://www.facebook.com/tutorialspointindia\" rel=\"nofollow\" target=\"_blank\" title=\"tutorialspoint @ Facebook\">Facebook</a></li>\n<li class=\"googleplus\"><a data-placement=\"bottom\" href=\"https://plus.google.com/u/0/116678774017490391259/posts\" rel=\"nofollow\" target=\"_blank\" title=\"tutorialspoint @ Google+\">Google+</a></li>\n<li class=\"twitter\"><a data-placement=\"bottom\" href=\"https://www.twitter.com/tutorialspoint\" rel=\"nofollow\" target=\"_blank\" title=\"tutorialspoint @ Twitter\">Twitter</a></li>\n<li class=\"linkedin\"><a data-placement=\"bottom\" href=\"https://www.linkedin.com/company/tutorialspoint\" rel=\"nofollow\" target=\"_blank\" title=\"tutorialspoint @ Linkedin\">Linkedin</a></li>\n<li class=\"youtube\"><a data-placement=\"bottom\" href=\"https://www.youtube.com/channel/UCVLbzhxVTiTLiVKeGV7WEBg\" rel=\"nofollow\" target=\"_blank\" title=\"tutorialspoint YouTube\">YouTube</a></li>\n</ul>\n</li>\n</ul>\n</nav>\n</div>\n<div class=\"sidenav\" id=\"mySidenav\">\n<div class=\"navbar nav-main\">\n<div class=\"container\">\n<nav class=\"nav-main mega-menu\">\n<ul class=\"nav nav-pills nav-main\" id=\"mainMenu\">\n<li class=\"dropdown no-sub-menu\"> <a class=\"dropdown\" href=\"index.htm\"><i class=\"icon icon-home\"></i> Home</a> </li>\n<li class=\"dropdown no-sub-menu\"><a class=\"dropdown\" href=\"/questions/index.php\"><i class=\"fa fa-send\"></i> Q/A </a> </li>\n<li class=\"dropdown\"><a class=\"dropdown\" href=\"tutorialslibrary.htm\"><span class=\"tut-lib\"> Library </span></a></li>\n<li class=\"dropdown no-sub-menu\"><a class=\"dropdown\" href=\"videotutorials/index.htm\"><i class=\"fa-toggle-right\"></i> Videos </a></li>\n<li class=\"dropdown no-sub-menu\"><a class=\"dropdown\" href=\"tutor_connect/index.php\"><i class=\"fa-user\"> </i> Tutors</a></li>\n<li class=\"dropdown no-sub-menu\"><a class=\"dropdown\" href=\"codingground.htm\"><i class=\"fa-code\"></i> Coding Ground </a> </li>\n<li class=\"dropdown no-sub-menu\"><a class=\"dropdown\" href=\"https://store.tutorialspoint.com/\"><i class=\"fa-usd\"></i> Store </a> </li>\n<li class=\"dropdown no-sub-menu\">\n<div class=\"searchform-popup\">\n<input autocomplete=\"off\" class=\"header-search-box\" id=\"search-string\" name=\"q\" onblur=\"if (this.value == '') {this.value = 'Search your favorite tutorials...';}\" onfocus=\"if (this.value == 'Search your favorite tutorials...') {this.value = '';}\" placeholder=\"Search your favorite tutorials...\" type=\"text\"/>\n<div class=\"magnifying-glass\"><i class=\"icon-search\"></i> Search </div>\n</div>\n</li>\n</ul>\n</nav>\n</div>\n</div>\n</div>\n</header></body></html>\n\n<div style=\"clear:both;\"></div>\n<div class=\"main\" role=\"main\">\n<div class=\"container\">\n<div class=\"row\">\n<div class=\"col-md-2\">\n<aside class=\"sidebar\">\n<style>\r\n.ts {\r\n   text-align:center !important;\r\n   vertical-align:middle !important;\r\n}\r\n</style>\n<div class=\"mini-logo\">\n<img alt=\"Python Tutorial\" src=\"/python/images/python-mini.jpg\">\n</img></div>\n<ul class=\"nav nav-list primary left-menu\">\n<li class=\"heading\">Python Basic Tutorial</li>\n<li><a href=\"/python/index.htm\" target=\"_top\">Python - Home</a></li>\n<li><a href=\"/python/python_overview.htm\" target=\"_top\">Python - Overview</a></li>\n<li><a href=\"/python/python_environment.htm\" target=\"_top\">Python - Environment Setup</a></li>\n<li><a href=\"/python/python_basic_syntax.htm\" target=\"_top\">Python - Basic Syntax</a></li>\n<li><a href=\"/python/python_variable_types.htm\" target=\"_top\">Python - Variable Types</a></li>\n<li><a href=\"/python/python_basic_operators.htm\" target=\"_top\">Python - Basic Operators</a></li>\n<li><a href=\"/python/python_decision_making.htm\" target=\"_top\">Python - Decision Making</a></li>\n<li><a href=\"/python/python_loops.htm\" target=\"_top\">Python - Loops</a></li>\n<li><a href=\"/python/python_numbers.htm\" target=\"_top\">Python - Numbers</a></li>\n<li><a href=\"/python/python_strings.htm\" target=\"_top\">Python - Strings</a></li>\n<li><a href=\"/python/python_lists.htm\" target=\"_top\">Python - Lists</a></li>\n<li><a href=\"/python/python_tuples.htm\" target=\"_top\">Python - Tuples</a></li>\n<li><a href=\"/python/python_dictionary.htm\" target=\"_top\">Python - Dictionary</a></li>\n<li><a href=\"/python/python_date_time.htm\" target=\"_top\">Python - Date &amp; Time</a></li>\n<li><a href=\"/python/python_functions.htm\" target=\"_top\">Python - Functions</a></li>\n<li><a href=\"/python/python_modules.htm\" target=\"_top\">Python - Modules</a></li>\n<li><a href=\"/python/python_files_io.htm\" target=\"_top\">Python - Files I/O</a></li>\n<li><a href=\"/python/python_exceptions.htm\" target=\"_top\">Python - Exceptions</a></li>\n</ul>\n<ul class=\"nav nav-list primary left-menu\">\n<li class=\"heading\">Python Advanced Tutorial</li>\n<li><a href=\"/python/python_classes_objects.htm\" target=\"_top\">Python - Classes/Objects</a></li>\n<li><a href=\"/python/python_reg_expressions.htm\" target=\"_top\">Python - Reg Expressions</a></li>\n<li><a href=\"/python/python_cgi_programming.htm\" target=\"_top\">Python - CGI Programming</a></li>\n<li><a href=\"/python/python_database_access.htm\" target=\"_top\">Python - Database Access</a></li>\n<li><a href=\"/python/python_networking.htm\" target=\"_top\">Python - Networking</a></li>\n<li><a href=\"/python/python_sending_email.htm\" target=\"_top\">Python - Sending Email</a></li>\n<li><a href=\"/python/python_multithreading.htm\" target=\"_top\">Python - Multithreading</a></li>\n<li><a href=\"/python/python_xml_processing.htm\" target=\"_top\">Python - XML Processing</a></li>\n<li><a href=\"/python/python_gui_programming.htm\" target=\"_top\">Python - GUI Programming</a></li>\n<li><a href=\"/python/python_further_extensions.htm\" target=\"_top\">Python - Further Extensions</a></li>\n</ul>\n<ul class=\"nav nav-list primary left-menu\">\n<li class=\"heading\">Python  Useful Resources</li>\n<li><a href=\"/python/python_questions_answers.htm\" target=\"_top\">Python - Questions and Answers</a></li>\n<li><a href=\"/python/python_quick_guide.htm\" target=\"_top\">Python - Quick Guide</a></li>\n<li><a href=\"/python/python_tools_utilities.htm\" target=\"_top\">Python - Tools/Utilities</a></li>\n<li><a href=\"/python/python_useful_resources.htm\" target=\"_top\">Python - Useful Resources</a></li>\n<li><a href=\"/python/python_discussion.htm\" target=\"_top\">Python - Discussion</a></li>\n</ul>\n<ul class=\"nav nav-list primary push-bottom left-menu special\">\n<li class=\"sreading\">Selected Reading</li>\n<li><a href=\"/upsc_ias_exams.htm\" target=\"_top\">UPSC IAS Exams Notes</a></li>\n<li><a href=\"/developers_best_practices/index.htm\" target=\"_top\">Developer's Best Practices</a></li>\n<li><a href=\"/questions_and_answers.htm\" target=\"_top\">Questions and Answers</a></li>\n<li><a href=\"/effective_resume_writing.htm\" target=\"_top\">Effective Resume Writing</a></li>\n<li><a href=\"/hr_interview_questions/index.htm\" target=\"_top\">HR Interview Questions</a></li>\n<li><a href=\"/computer_glossary.htm\" target=\"_top\">Computer Glossary</a></li>\n<li><a href=\"/computer_whoiswho.htm\" target=\"_top\">Who is Who</a></li>\n</ul>\n</aside>\n</div>\n<!-- PRINTING STARTS HERE -->\n<div class=\"row\">\n<div class=\"content\">\n<div class=\"col-md-7 middle-col\">\n<h1>Python - MySQL Database Access</h1>\n<hr/>\n<div style=\"padding-bottom:5px;padding-left:10px;text-align: center;\">Advertisements</div>\n<div style=\"text-align: center;\">\n<script type=\"text/javascript\"><!--\ngoogle_ad_client = \"pub-7133395778201029\";\ngoogle_ad_width = 468;\ngoogle_ad_height = 60;\ngoogle_ad_format = \"468x60_as\";\ngoogle_ad_type = \"image\";\ngoogle_ad_channel = \"\";\n//--></script>\n<script src=\"https://pagead2.googlesyndication.com/pagead/show_ads.js\" type=\"text/javascript\">\n</script>\n</div>\n<hr/>\n<div class=\"pre-btn\">\n<a href=\"/python/python_cgi_programming.htm\"><i class=\"icon icon-arrow-circle-o-left big-font\"></i> Previous Page</a>\n</div>\n<div class=\"nxt-btn\">\n<a href=\"/python/python_networking.htm\">Next Page <i class=\"icon icon-arrow-circle-o-right big-font\"></i>\u00a0</a>\n</div>\n<div class=\"clearer\"></div>\n<hr/>\n<p>The Python standard for database interfaces is the Python DB-API. Most Python database interfaces adhere to this standard.</p>\n<p>You can choose the right database for your application. Python Database API supports a wide range of database servers such as \u2212</p>\n<ul class=\"list\">\n<li>GadFly</li>\n<li>mSQL</li>\n<li>MySQL</li>\n<li>PostgreSQL</li>\n<li>Microsoft SQL Server 2000</li>\n<li>Informix</li>\n<li>Interbase</li>\n<li>Oracle</li>\n<li>Sybase</li>\n</ul>\n<p>Here is the list of available Python database interfaces: <a href=\"http://wiki.python.org/moin/DatabaseInterfaces\" rel=\"nofollow\" target=\"_blank\">Python Database Interfaces and APIs</a>. You must download a separate DB API module for each database you need to access. For example, if you need to access an Oracle database as well as a MySQL database, you must download both the Oracle and the MySQL database modules.</p>\n<p>The DB API provides a minimal standard for working with databases using Python structures and syntax wherever possible. This API includes the following \u2212</p>\n<ul class=\"list\">\n<li>Importing the API module.</li>\n<li>Acquiring a connection with the database.</li>\n<li>Issuing SQL statements and stored procedures.</li>\n<li>Closing the connection</li>\n</ul>\n<p>We would learn all the concepts using MySQL, so let us talk about MySQLdb module.</p>\n<h2>What is MySQLdb?</h2>\n<p>MySQLdb is an interface for connecting to a MySQL database server from Python. It implements the Python Database API v2.0 and is built on top of the MySQL C API.</p>\n<h2>How do I Install MySQLdb?</h2>\n<p>Before proceeding, you make sure you have MySQLdb installed on your machine. Just type the following in your Python script and execute it \u2212</p>\n<pre class=\"prettyprint notranslate\">\n#!/usr/bin/python\n\nimport MySQLdb\n</pre>\n<p>If it produces the following result, then it means MySQLdb module is not installed \u2212</p>\n<pre class=\"result notranslate\">\nTraceback (most recent call last):\n   File \"test.py\", line 3, in &lt;module&gt;\n      import MySQLdb\nImportError: No module named MySQLdb\n</pre>\n<p>To install MySQLdb module, use the following command \u2212</p>\n<pre class=\"result notranslate\">\nFor Ubuntu, use the following command -\n$ sudo apt-get install python-pip python-dev libmysqlclient-dev\nFor Fedora, use the following command -\n$ sudo dnf install python python-devel mysql-devel redhat-rpm-config gcc\nFor Python command prompt, use the following command -\npip install MySQL-python\n</pre>\n<p><b>Note</b> \u2212 Make sure you have root privilege to install above module.</p>\n<h2>Database Connection</h2>\n<p>Before connecting to a MySQL database, make sure of the followings \u2212</p>\n<ul class=\"list\">\n<li><p>You have created a database TESTDB.</p></li>\n<li><p>You have created a table EMPLOYEE in TESTDB.</p></li>\n<li><p>This table has fields FIRST_NAME, LAST_NAME, AGE, SEX and INCOME.</p></li>\n<li><p>User ID \"testuser\" and password \"test123\" are set to access TESTDB.</p></li>\n<li><p>Python module MySQLdb is installed properly on your machine.</p></li>\n<li><p>You have gone through MySQL tutorial to understand <a href=\"/mysql/index.htm\">MySQL Basics.</a></p>\n</li>\n</ul>\n<h3>Example</h3>\n<p>Following is the example of connecting with MySQL database \"TESTDB\"</p>\n<pre class=\"prettyprint notranslate\">\n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using <i>cursor()</i> method\ncursor = db.cursor()\n\n# execute SQL query using <i>execute()</i> method.\ncursor.execute(\"SELECT VERSION()\")\n\n# Fetch a single row using <i>fetchone()</i> method.\ndata = cursor.fetchone()\nprint \"Database version : %s \" % data\n\n# disconnect from server\ndb.close()\n</pre>\n<p>While running this script, it is producing the following result in my Linux machine.</p>\n<pre class=\"result notranslate\">\nDatabase version : 5.0.45\n</pre>\n<p>If a connection is established with the datasource, then a Connection Object is returned and saved into <b>db</b> for further use, otherwise <b>db</b> is set to None. Next, <b>db</b> object is used to create a <b>cursor</b> object, which in turn is used to execute SQL queries. Finally, before coming out, it ensures that database connection is closed and resources are released.</p>\n<h2>Creating Database Table</h2>\n<p>Once a database connection is established, we are ready to create tables or records into the database tables using <b>execute</b> method of the created cursor.</p>\n<h3>Example</h3>\n<p>Let us create Database table EMPLOYEE \u2212</p>\n<pre class=\"prettyprint notranslate\">\n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using <i>cursor()</i> method\ncursor = db.cursor()\n\n# Drop table if it already exist using <i>execute()</i> method.\ncursor.execute(\"DROP TABLE IF EXISTS EMPLOYEE\")\n\n# Create table as per requirement\nsql = \"\"\"CREATE TABLE EMPLOYEE (\n         FIRST_NAME  CHAR(20) NOT NULL,\n         LAST_NAME  CHAR(20),\n         AGE INT,  \n         SEX CHAR(1),\n         INCOME FLOAT )\"\"\"\n\ncursor.execute(sql)\n\n# disconnect from server\ndb.close()\n</pre>\n<h2>INSERT Operation</h2>\n<p>It is required when you want to create your records into a database table.</p>\n<h3>Example</h3>\n<p>The following example, executes SQL <i>INSERT</i> statement to create a record into EMPLOYEE table \u2212</p>\n<pre class=\"prettyprint notranslate\">\n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using <i>cursor()</i> method\ncursor = db.cursor()\n\n# Prepare SQL query to INSERT a record into the database.\nsql = \"\"\"INSERT INTO EMPLOYEE(FIRST_NAME,\n         LAST_NAME, AGE, SEX, INCOME)\n         VALUES ('Mac', 'Mohan', 20, 'M', 2000)\"\"\"\ntry:\n   # Execute the SQL command\n   cursor.execute(sql)\n   # Commit your changes in the database\n   db.commit()\nexcept:\n   # Rollback in case there is any error\n   db.rollback()\n\n# disconnect from server\ndb.close()\n</pre>\n<p>Above example can be written as follows to create SQL queries dynamically \u2212</p>\n<pre class=\"prettyprint notranslate\">\n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using <i>cursor()</i> method\ncursor = db.cursor()\n\n# Prepare SQL query to INSERT a record into the database.\nsql = \"INSERT INTO EMPLOYEE(FIRST_NAME, \\\n       LAST_NAME, AGE, SEX, INCOME) \\\n       VALUES ('%s', '%s', '%d', '%c', '%d' )\" % \\\n       ('Mac', 'Mohan', 20, 'M', 2000)\ntry:\n   # Execute the SQL command\n   cursor.execute(sql)\n   # Commit your changes in the database\n   db.commit()\nexcept:\n   # Rollback in case there is any error\n   db.rollback()\n\n# disconnect from server\ndb.close()\n</pre>\n<h3>Example</h3>\n<p>Following code segment is another form of execution where you can pass parameters directly \u2212</p>\n<pre class=\"result notranslate\">\n..................................\nuser_id = \"test123\"\npassword = \"password\"\n\ncon.execute('insert into Login values(\"%s\", \"%s\")' % \\\n             (user_id, password))\n..................................\n</pre>\n<h2>READ Operation</h2>\n<p>READ Operation on any database means to fetch some useful information from the database.</p>\n<p>Once our database connection is established, you are ready to make a query into this database. You can use either <b>fetchone()</b> method to fetch single record or <b>fetchall()</b> method to fetech multiple values from a database table.</p>\n<ul class=\"list\">\n<li><p><b>fetchone()</b> \u2212 It fetches the next row of a query result set. A result set is an object that is returned when a cursor object is used to query a table.</p></li>\n<li><p><b>fetchall()</b> \u2212 It fetches all the rows in a result set. If some rows have already been extracted from the result set, then it retrieves\nthe remaining rows from the result set.</p></li>\n<li><p><b>rowcount</b> \u2212 This is a read-only attribute and returns the number of rows that were affected by an execute() method.</p></li>\n</ul>\n<h3>Example</h3>\n<p>The following procedure queries all the records from EMPLOYEE table having salary more than 1000 \u2212</p>\n<pre class=\"prettyprint notranslate\">\n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using <i>cursor()</i> method\ncursor = db.cursor()\n\nsql = \"SELECT * FROM EMPLOYEE \\\n       WHERE INCOME &gt; '%d'\" % (1000)\ntry:\n   # Execute the SQL command\n   cursor.execute(sql)\n   # Fetch all the rows in a list of lists.\n   results = cursor.fetchall()\n   for row in results:\n      fname = row[0]\n      lname = row[1]\n      age = row[2]\n      sex = row[3]\n      income = row[4]\n      # Now print fetched result\n      print \"fname=%s,lname=%s,age=%d,sex=%s,income=%d\" % \\\n             (fname, lname, age, sex, income )\nexcept:\n   print \"Error: unable to fecth data\"\n\n# disconnect from server\ndb.close()\n</pre>\n<p>This will produce the following result \u2212</p>\n<pre class=\"result notranslate\">\nfname=Mac, lname=Mohan, age=20, sex=M, income=2000\n</pre>\n<h2>Update Operation</h2>\n<p>UPDATE Operation on any database means to update one or more records, which are already available in the database.</p>\n<p>The following procedure updates all the records having SEX as <b>'M'</b>. Here, we increase AGE of all the males by one year.</p>\n<h3>Example</h3>\n<pre class=\"prettyprint notranslate\">\n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using <i>cursor()</i> method\ncursor = db.cursor()\n\n# Prepare SQL query to UPDATE required records\nsql = \"UPDATE EMPLOYEE SET AGE = AGE + 1\n                          WHERE SEX = '%c'\" % ('M')\ntry:\n   # Execute the SQL command\n   cursor.execute(sql)\n   # Commit your changes in the database\n   db.commit()\nexcept:\n   # Rollback in case there is any error\n   db.rollback()\n\n# disconnect from server\ndb.close()\n</pre>\n<h2>DELETE Operation</h2>\n<p>DELETE operation is required when you want to delete some records from your database. Following is the  procedure to delete all the records from EMPLOYEE where AGE is more than 20 \u2212</p>\n<h3>Example</h3>\n<pre class=\"prettyprint notranslate\">\n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using <i>cursor()</i> method\ncursor = db.cursor()\n\n# Prepare SQL query to DELETE required records\nsql = \"DELETE FROM EMPLOYEE WHERE AGE &gt; '%d'\" % (20)\ntry:\n   # Execute the SQL command\n   cursor.execute(sql)\n   # Commit your changes in the database\n   db.commit()\nexcept:\n   # Rollback in case there is any error\n   db.rollback()\n\n# disconnect from server\ndb.close()\n</pre>\n<h2>Performing Transactions</h2>\n<p>Transactions are a mechanism that ensures data consistency. Transactions have the following four properties \u2212</p>\n<ul class=\"list\">\n<li><p><b>Atomicity</b> \u2212 Either a transaction completes or nothing happens at all.</p></li>\n<li><p><b>Consistency</b> \u2212 A transaction must start in a consistent state and leave the system in a consistent state.</p></li>\n<li><p><b>Isolation</b> \u2212 Intermediate results of a transaction are not visible outside the current transaction.</p></li>\n<li><p><b>Durability</b> \u2212 Once a transaction was committed, the effects are persistent, even after a system failure.</p></li>\n</ul>\n<p>The Python DB API 2.0 provides two methods to either <i>commit</i> or <i>rollback</i> a transaction.</p>\n<h3>Example</h3>\n<p>You already know how to implement transactions. Here is again similar example \u2212</p>\n<pre class=\"prettyprint notranslate\">\n# Prepare SQL query to DELETE required records\nsql = \"DELETE FROM EMPLOYEE WHERE AGE &gt; '%d'\" % (20)\ntry:\n   # Execute the SQL command\n   cursor.execute(sql)\n   # Commit your changes in the database\n   db.commit()\nexcept:\n   # Rollback in case there is any error\n   db.rollback()\n</pre>\n<h2>COMMIT Operation</h2>\n<p>Commit is the operation, which gives a green signal to database to finalize the changes, and after this operation, no change can be reverted back.</p>\n<p>Here is a simple example to call <b>commit</b> method.</p>\n<pre class=\"result notranslate\">\ndb.commit()\n</pre>\n<h2>ROLLBACK Operation</h2>\n<p>If you are not satisfied with one or more of the changes and you want to revert back those changes completely, then use <b>rollback()</b> method.</p>\n<p>Here is a simple example to call <b>rollback()</b> method.</p>\n<pre class=\"result notranslate\">\ndb.rollback()\n</pre>\n<h2>Disconnecting Database</h2>\n<p>To disconnect Database connection, use close() method.</p>\n<pre class=\"result notranslate\">\ndb.close()\n</pre>\n<p>If the connection to a database is closed by the user with the close() method, any outstanding transactions are rolled back by the DB. However, instead of depending on any of DB lower level implementation details, your application would be better off calling commit or rollback explicitly.</p>\n<h2>Handling Errors</h2>\n<p>There are many sources of errors. A few examples are a syntax error in an executed SQL statement, a connection failure, or calling the fetch method for an already canceled or finished statement handle.</p>\n<p>The DB API defines a number of errors that must exist in each database module. The following table lists these exceptions.</p>\n<table class=\"table table-bordered\">\n<tr>\n<th style=\"text-align:center;width:10%\">Sr.No.</th>\n<th style=\"text-align:center;\">Exception &amp; Description</th>\n</tr>\n<tr>\n<td class=\"ts\">1</td>\n<td><p><b>Warning</b></p>\n<p>Used for non-fatal issues. Must subclass StandardError.</p></td>\n</tr>\n<tr>\n<td class=\"ts\">2</td>\n<td><p><b>Error</b></p>\n<p>Base class for errors. Must subclass StandardError.</p></td>\n</tr>\n<tr>\n<td class=\"ts\">3</td>\n<td><p><b>InterfaceError</b></p>\n<p>Used for errors in the database module, not the database itself. Must subclass Error.</p></td>\n</tr>\n<tr>\n<td class=\"ts\">4</td>\n<td><p><b>DatabaseError</b></p>\n<p>Used for errors in the database. Must subclass Error.</p></td>\n</tr>\n<tr>\n<td class=\"ts\">5</td>\n<td><p><b>DataError</b></p>\n<p>Subclass of DatabaseError that refers to errors in the data.</p></td>\n</tr>\n<tr>\n<td class=\"ts\">6</td>\n<td><p><b>OperationalError</b></p>\n<p>Subclass of DatabaseError that refers to errors such as the loss of a connection to the database. These errors are generally outside of the control of the Python scripter.</p></td>\n</tr>\n<tr>\n<td class=\"ts\">7</td>\n<td><p><b>IntegrityError</b></p>\n<p>Subclass of DatabaseError for situations that would damage the relational integrity, such as uniqueness constraints or foreign keys.</p></td>\n</tr>\n<tr>\n<td class=\"ts\">8</td>\n<td><p><b>InternalError</b></p>\n<p>Subclass of DatabaseError that refers to errors internal to the database module, such as a cursor no longer being active.</p></td>\n</tr>\n<tr>\n<td class=\"ts\">9</td>\n<td><p><b>ProgrammingError</b></p>\n<p>Subclass of DatabaseError that refers to errors such as a bad table name and other things that can safely be blamed on you.</p></td>\n</tr>\n<tr>\n<td class=\"ts\">10</td>\n<td><p><b>NotSupportedError</b></p>\n<p>Subclass of DatabaseError that refers to trying to call unsupported functionality.</p></td>\n</tr>\n</table>\n<p>Your Python scripts should handle these errors, but before using any of the above exceptions, make sure your MySQLdb has support for that exception. You can get more information about them by reading the DB API 2.0 specification.</p>\n<hr/>\n<div class=\"pre-btn\">\n<a href=\"/python/python_cgi_programming.htm\"><i class=\"icon icon-arrow-circle-o-left big-font\"></i> Previous Page</a>\n</div>\n<div class=\"print-btn center\">\n<a href=\"/cgi-bin/printpage.cgi\" target=\"_blank\"><i class=\"icon icon-print big-font\"></i> Print</a>\n</div>\n<div class=\"nxt-btn\">\n<a href=\"/python/python_networking.htm\">Next Page <i class=\"icon icon-arrow-circle-o-right big-font\"></i>\u00a0</a>\n</div>\n<hr/>\n<!-- PRINTING ENDS HERE -->\n<div class=\"bottomgooglead\">\n<div class=\"bottomadtag\">Advertisements</div>\n<script><!--\nvar width = 580;\nvar height = 400;\nvar format = \"580x400_as\";\nif( window.innerWidth < 468 ){\n   width = 300;\n   height = 250;\n   format = \"300x250_as\";\n}\ngoogle_ad_client = \"pub-7133395778201029\";\ngoogle_ad_width = width;\ngoogle_ad_height = height;\ngoogle_ad_format = format;\ngoogle_ad_type = \"image\";\ngoogle_ad_channel =\"\";\n//--></script>\n<script src=\"https://pagead2.googlesyndication.com/pagead/show_ads.js\">\n</script>\n</div>\n</div>\n</div>\n<div class=\"row\">\n<div class=\"col-md-3\" id=\"rightbar\">\n<div class=\"simple-ad\">\n<a href=\"javascript:void(0)\" onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.facebook.com/sharer.php?u=' + 'https://www.tutorialspoint.com/python/python_database_access.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;\">\n<img alt=\"img\" src=\"/images/facebookIcon.jpg\">\n</img></a>\n<a href=\"javascript:void(0)\" onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://twitter.com/share?url=' + 'https://www.tutorialspoint.com/python/python_database_access.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;\">\n<img alt=\"img\" src=\"/images/twitterIcon.jpg\"/>\n</a>\n<a href=\"javascript:void(0)\" onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.linkedin.com/cws/share?url=' + 'https://www.tutorialspoint.com/python/python_database_access.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;\">\n<img alt=\"img\" src=\"/images/linkedinIcon.jpg\"/>\n</a>\n<a href=\"javascript:void(0)\" onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://plus.google.com/share?url=https://www.tutorialspoint.com/python/python_database_access.htm','sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;\">\n<img alt=\"img\" src=\"/images/googlePlusIcon.jpg\"/>\n</a>\n<a href=\"javascript:void(0)\" onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://www.stumbleupon.com/submit?url=https://www.tutorialspoint.com/python/python_database_access.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=456,top='+sTop+',left='+sLeft);return false;\">\n<img alt=\"img\" src=\"/images/StumbleUponIcon.jpg\"/>\n</a>\n<a href=\"javascript:void(0)\" onclick=\"var sTop = window.screen.height/2-(218); var sLeft = window.screen.width/2-(313);window.open('https://reddit.com/submit?url=https://www.tutorialspoint.com/python/python_database_access.htm&amp;title='+ document.title,'sharer','toolbar=0,status=0,width=626,height=656,top='+sTop+',left='+sLeft);return false;\">\n<img alt=\"img\" src=\"/images/reddit.jpg\"/>\n</a>\n</div>\n<div class=\"rightgooglead\">\n<script><!--\ngoogle_ad_client = \"pub-7133395778201029\";\ngoogle_ad_width = 300;\ngoogle_ad_height = 250;\ngoogle_ad_format = \"300x250_as\";\ngoogle_ad_type = \"image\";\ngoogle_ad_channel =\"\";\n//--></script>\n<script src=\"https://pagead2.googlesyndication.com/pagead/show_ads.js\">\n</script>\n</div>\n<div class=\"rightgooglead\">\n<script><!--\ngoogle_ad_client = \"pub-7133395778201029\";\ngoogle_ad_width = 300;\ngoogle_ad_height = 600;\ngoogle_ad_format = \"300x600_as\";\ngoogle_ad_type = \"image\";\ngoogle_ad_channel =\"\";\n//--></script>\n<script src=\"https://pagead2.googlesyndication.com/pagead/show_ads.js\">\n</script>\n</div>\n<div class=\"rightgooglead\">\n<script><!--\ngoogle_ad_client = \"ca-pub-2537027957187252\";\n/* Right Side Ad */\ngoogle_ad_slot = \"right_side_ad\";\ngoogle_ad_width = 300;\ngoogle_ad_height = 250;\n//-->\n</script>\n<script src=\"https://pagead2.googlesyndication.com/pagead/show_ads.js\">\n</script>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"footer-copyright\">\n<div class=\"container\">\n<div class=\"row\">\n<div class=\"col-md-1\">\n<a class=\"logo\" href=\"index.htm\"> <img alt=\"Tutorials Point\" class=\"img-responsive\" src=\"/scripts/img/logo-footer.png\"/> </a>\n</div>\n<div class=\"col-md-4 col-sm-12 col-xs-12\">\n<nav id=\"sub-menu\">\n<ul>\n<li><a href=\"/about/about_privacy.htm\">Privacy Policy</a></li>\n<li><a href=\"/about/about_cookies.htm\">Cookies Policy</a></li>\n<li><a href=\"/about/contact_us.htm\">Contact</a></li>\n</ul>\n</nav>\n</div>\n<div class=\"col-md-3 col-sm-12 col-xs-12\">\n<p>\u00a9 Copyright 2019. All Rights Reserved.</p>\n</div>\n<div class=\"col-md-4 col-sm-12 col-xs-12\">\n<div class=\"news-group\">\n<input autocomplete=\"off\" class=\"form-control-foot search\" id=\"textemail\" name=\"textemail\" onblur=\"if (this.value == '') {this.value = 'Enter email for newsletter...';}\" onfocus=\"if (this.value == 'Enter email for newsletter...') {this.value = '';}\" placeholder=\"Enter email for newsletter\" type=\"text\"/>\n<span class=\"input-group-btn\"> <button class=\"btn btn-default btn-footer\" id=\"btnemail\" onclick=\"javascript:void(0);\" type=\"submit\">go</button> </span>\n<div id=\"newsresponse\"></div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div id=\"privacy-banner\">\n<div>\n<p>\n      We use cookies to provide and improve our services. By using our site, you consent to our Cookies Policy.\n      <a href=\"javascript:void(0)\" id=\"banner-accept\">Accept</a>\n<a href=\"/about/about_cookies.htm\" id=\"banner-learn\" target=\"_blank\">Learn more</a>\n</p>\n</div>\n</div>\n<script>\n// Banner Trigger if Not Closed\nif (!localStorage.bannerClosed) {\n  document.getElementById('privacy-banner').style.display = \"inherit\";\n} else {\n  document.getElementById('privacy-banner').style.display = \"none\";\n}\ndocument.getElementById('banner-accept').addEventListener('click', function() {\n  document.getElementById('privacy-banner').style.display = \"none\";\n  localStorage.bannerClosed = 'true';\n});\nif (navigator.userAgent.match(/Opera|OPR\\//)) {\n  document.getElementById('privacy-banner').style.display = \"inherit\";\n}\n</script>\n<!-- Libs -->\n<script src=\"/theme/js/custom-min.js?v=7\"></script>\n<script src=\"https://www.google-analytics.com/urchin.js\">\n</script>\n<script>\n_uacct = \"UA-232293-6\";\nurchinTracker();\n$('.pg-icon').click(function(){\n   $('.wrapLoader').show();\n});\n</script>\n<script src=\"/theme/js/jquery.colorbox-min.js\"></script>\n<script>\n   var tryit = new $.TryIt('/python/try_python.php');\n   tryit.compile();\n</script>\n\n\n", "title": "Python - MySQL Database Access", "content_html": "<div class=\"col-md-7 middle-col\">\n<h1>Python - MySQL Database Access</h1>\n<hr/>\n<div style=\"padding-bottom:5px;padding-left:10px;text-align: center;\">Advertisements</div>\n<div style=\"text-align: center;\">\n<script type=\"text/javascript\"><!--\ngoogle_ad_client = \"pub-7133395778201029\";\ngoogle_ad_width = 468;\ngoogle_ad_height = 60;\ngoogle_ad_format = \"468x60_as\";\ngoogle_ad_type = \"image\";\ngoogle_ad_channel = \"\";\n//--></script>\n<script src=\"https://pagead2.googlesyndication.com/pagead/show_ads.js\" type=\"text/javascript\">\n</script>\n</div>\n<hr/>\n<div class=\"pre-btn\">\n<a href=\"/python/python_cgi_programming.htm\"><i class=\"icon icon-arrow-circle-o-left big-font\"></i> Previous Page</a>\n</div>\n<div class=\"nxt-btn\">\n<a href=\"/python/python_networking.htm\">Next Page <i class=\"icon icon-arrow-circle-o-right big-font\"></i>\u00a0</a>\n</div>\n<div class=\"clearer\"></div>\n<hr/>\n<p>The Python standard for database interfaces is the Python DB-API. Most Python database interfaces adhere to this standard.</p>\n<p>You can choose the right database for your application. Python Database API supports a wide range of database servers such as \u2212</p>\n<ul class=\"list\">\n<li>GadFly</li>\n<li>mSQL</li>\n<li>MySQL</li>\n<li>PostgreSQL</li>\n<li>Microsoft SQL Server 2000</li>\n<li>Informix</li>\n<li>Interbase</li>\n<li>Oracle</li>\n<li>Sybase</li>\n</ul>\n<p>Here is the list of available Python database interfaces: <a href=\"http://wiki.python.org/moin/DatabaseInterfaces\" rel=\"nofollow\" target=\"_blank\">Python Database Interfaces and APIs</a>. You must download a separate DB API module for each database you need to access. For example, if you need to access an Oracle database as well as a MySQL database, you must download both the Oracle and the MySQL database modules.</p>\n<p>The DB API provides a minimal standard for working with databases using Python structures and syntax wherever possible. This API includes the following \u2212</p>\n<ul class=\"list\">\n<li>Importing the API module.</li>\n<li>Acquiring a connection with the database.</li>\n<li>Issuing SQL statements and stored procedures.</li>\n<li>Closing the connection</li>\n</ul>\n<p>We would learn all the concepts using MySQL, so let us talk about MySQLdb module.</p>\n<h2>What is MySQLdb?</h2>\n<p>MySQLdb is an interface for connecting to a MySQL database server from Python. It implements the Python Database API v2.0 and is built on top of the MySQL C API.</p>\n<h2>How do I Install MySQLdb?</h2>\n<p>Before proceeding, you make sure you have MySQLdb installed on your machine. Just type the following in your Python script and execute it \u2212</p>\n<pre class=\"prettyprint notranslate\">\n#!/usr/bin/python\n\nimport MySQLdb\n</pre>\n<p>If it produces the following result, then it means MySQLdb module is not installed \u2212</p>\n<pre class=\"result notranslate\">\nTraceback (most recent call last):\n   File \"test.py\", line 3, in &lt;module&gt;\n      import MySQLdb\nImportError: No module named MySQLdb\n</pre>\n<p>To install MySQLdb module, use the following command \u2212</p>\n<pre class=\"result notranslate\">\nFor Ubuntu, use the following command -\n$ sudo apt-get install python-pip python-dev libmysqlclient-dev\nFor Fedora, use the following command -\n$ sudo dnf install python python-devel mysql-devel redhat-rpm-config gcc\nFor Python command prompt, use the following command -\npip install MySQL-python\n</pre>\n<p><b>Note</b> \u2212 Make sure you have root privilege to install above module.</p>\n<h2>Database Connection</h2>\n<p>Before connecting to a MySQL database, make sure of the followings \u2212</p>\n<ul class=\"list\">\n<li><p>You have created a database TESTDB.</p></li>\n<li><p>You have created a table EMPLOYEE in TESTDB.</p></li>\n<li><p>This table has fields FIRST_NAME, LAST_NAME, AGE, SEX and INCOME.</p></li>\n<li><p>User ID \"testuser\" and password \"test123\" are set to access TESTDB.</p></li>\n<li><p>Python module MySQLdb is installed properly on your machine.</p></li>\n<li><p>You have gone through MySQL tutorial to understand <a href=\"/mysql/index.htm\">MySQL Basics.</a></p>\n</li>\n</ul>\n<h3>Example</h3>\n<p>Following is the example of connecting with MySQL database \"TESTDB\"</p>\n<pre class=\"prettyprint notranslate\">\n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using <i>cursor()</i> method\ncursor = db.cursor()\n\n# execute SQL query using <i>execute()</i> method.\ncursor.execute(\"SELECT VERSION()\")\n\n# Fetch a single row using <i>fetchone()</i> method.\ndata = cursor.fetchone()\nprint \"Database version : %s \" % data\n\n# disconnect from server\ndb.close()\n</pre>\n<p>While running this script, it is producing the following result in my Linux machine.</p>\n<pre class=\"result notranslate\">\nDatabase version : 5.0.45\n</pre>\n<p>If a connection is established with the datasource, then a Connection Object is returned and saved into <b>db</b> for further use, otherwise <b>db</b> is set to None. Next, <b>db</b> object is used to create a <b>cursor</b> object, which in turn is used to execute SQL queries. Finally, before coming out, it ensures that database connection is closed and resources are released.</p>\n<h2>Creating Database Table</h2>\n<p>Once a database connection is established, we are ready to create tables or records into the database tables using <b>execute</b> method of the created cursor.</p>\n<h3>Example</h3>\n<p>Let us create Database table EMPLOYEE \u2212</p>\n<pre class=\"prettyprint notranslate\">\n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using <i>cursor()</i> method\ncursor = db.cursor()\n\n# Drop table if it already exist using <i>execute()</i> method.\ncursor.execute(\"DROP TABLE IF EXISTS EMPLOYEE\")\n\n# Create table as per requirement\nsql = \"\"\"CREATE TABLE EMPLOYEE (\n         FIRST_NAME  CHAR(20) NOT NULL,\n         LAST_NAME  CHAR(20),\n         AGE INT,  \n         SEX CHAR(1),\n         INCOME FLOAT )\"\"\"\n\ncursor.execute(sql)\n\n# disconnect from server\ndb.close()\n</pre>\n<h2>INSERT Operation</h2>\n<p>It is required when you want to create your records into a database table.</p>\n<h3>Example</h3>\n<p>The following example, executes SQL <i>INSERT</i> statement to create a record into EMPLOYEE table \u2212</p>\n<pre class=\"prettyprint notranslate\">\n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using <i>cursor()</i> method\ncursor = db.cursor()\n\n# Prepare SQL query to INSERT a record into the database.\nsql = \"\"\"INSERT INTO EMPLOYEE(FIRST_NAME,\n         LAST_NAME, AGE, SEX, INCOME)\n         VALUES ('Mac', 'Mohan', 20, 'M', 2000)\"\"\"\ntry:\n   # Execute the SQL command\n   cursor.execute(sql)\n   # Commit your changes in the database\n   db.commit()\nexcept:\n   # Rollback in case there is any error\n   db.rollback()\n\n# disconnect from server\ndb.close()\n</pre>\n<p>Above example can be written as follows to create SQL queries dynamically \u2212</p>\n<pre class=\"prettyprint notranslate\">\n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using <i>cursor()</i> method\ncursor = db.cursor()\n\n# Prepare SQL query to INSERT a record into the database.\nsql = \"INSERT INTO EMPLOYEE(FIRST_NAME, \\\n       LAST_NAME, AGE, SEX, INCOME) \\\n       VALUES ('%s', '%s', '%d', '%c', '%d' )\" % \\\n       ('Mac', 'Mohan', 20, 'M', 2000)\ntry:\n   # Execute the SQL command\n   cursor.execute(sql)\n   # Commit your changes in the database\n   db.commit()\nexcept:\n   # Rollback in case there is any error\n   db.rollback()\n\n# disconnect from server\ndb.close()\n</pre>\n<h3>Example</h3>\n<p>Following code segment is another form of execution where you can pass parameters directly \u2212</p>\n<pre class=\"result notranslate\">\n..................................\nuser_id = \"test123\"\npassword = \"password\"\n\ncon.execute('insert into Login values(\"%s\", \"%s\")' % \\\n             (user_id, password))\n..................................\n</pre>\n<h2>READ Operation</h2>\n<p>READ Operation on any database means to fetch some useful information from the database.</p>\n<p>Once our database connection is established, you are ready to make a query into this database. You can use either <b>fetchone()</b> method to fetch single record or <b>fetchall()</b> method to fetech multiple values from a database table.</p>\n<ul class=\"list\">\n<li><p><b>fetchone()</b> \u2212 It fetches the next row of a query result set. A result set is an object that is returned when a cursor object is used to query a table.</p></li>\n<li><p><b>fetchall()</b> \u2212 It fetches all the rows in a result set. If some rows have already been extracted from the result set, then it retrieves\nthe remaining rows from the result set.</p></li>\n<li><p><b>rowcount</b> \u2212 This is a read-only attribute and returns the number of rows that were affected by an execute() method.</p></li>\n</ul>\n<h3>Example</h3>\n<p>The following procedure queries all the records from EMPLOYEE table having salary more than 1000 \u2212</p>\n<pre class=\"prettyprint notranslate\">\n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using <i>cursor()</i> method\ncursor = db.cursor()\n\nsql = \"SELECT * FROM EMPLOYEE \\\n       WHERE INCOME &gt; '%d'\" % (1000)\ntry:\n   # Execute the SQL command\n   cursor.execute(sql)\n   # Fetch all the rows in a list of lists.\n   results = cursor.fetchall()\n   for row in results:\n      fname = row[0]\n      lname = row[1]\n      age = row[2]\n      sex = row[3]\n      income = row[4]\n      # Now print fetched result\n      print \"fname=%s,lname=%s,age=%d,sex=%s,income=%d\" % \\\n             (fname, lname, age, sex, income )\nexcept:\n   print \"Error: unable to fecth data\"\n\n# disconnect from server\ndb.close()\n</pre>\n<p>This will produce the following result \u2212</p>\n<pre class=\"result notranslate\">\nfname=Mac, lname=Mohan, age=20, sex=M, income=2000\n</pre>\n<h2>Update Operation</h2>\n<p>UPDATE Operation on any database means to update one or more records, which are already available in the database.</p>\n<p>The following procedure updates all the records having SEX as <b>'M'</b>. Here, we increase AGE of all the males by one year.</p>\n<h3>Example</h3>\n<pre class=\"prettyprint notranslate\">\n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using <i>cursor()</i> method\ncursor = db.cursor()\n\n# Prepare SQL query to UPDATE required records\nsql = \"UPDATE EMPLOYEE SET AGE = AGE + 1\n                          WHERE SEX = '%c'\" % ('M')\ntry:\n   # Execute the SQL command\n   cursor.execute(sql)\n   # Commit your changes in the database\n   db.commit()\nexcept:\n   # Rollback in case there is any error\n   db.rollback()\n\n# disconnect from server\ndb.close()\n</pre>\n<h2>DELETE Operation</h2>\n<p>DELETE operation is required when you want to delete some records from your database. Following is the  procedure to delete all the records from EMPLOYEE where AGE is more than 20 \u2212</p>\n<h3>Example</h3>\n<pre class=\"prettyprint notranslate\">\n#!/usr/bin/python\n\nimport MySQLdb\n\n# Open database connection\ndb = MySQLdb.connect(\"localhost\",\"testuser\",\"test123\",\"TESTDB\" )\n\n# prepare a cursor object using <i>cursor()</i> method\ncursor = db.cursor()\n\n# Prepare SQL query to DELETE required records\nsql = \"DELETE FROM EMPLOYEE WHERE AGE &gt; '%d'\" % (20)\ntry:\n   # Execute the SQL command\n   cursor.execute(sql)\n   # Commit your changes in the database\n   db.commit()\nexcept:\n   # Rollback in case there is any error\n   db.rollback()\n\n# disconnect from server\ndb.close()\n</pre>\n<h2>Performing Transactions</h2>\n<p>Transactions are a mechanism that ensures data consistency. Transactions have the following four properties \u2212</p>\n<ul class=\"list\">\n<li><p><b>Atomicity</b> \u2212 Either a transaction completes or nothing happens at all.</p></li>\n<li><p><b>Consistency</b> \u2212 A transaction must start in a consistent state and leave the system in a consistent state.</p></li>\n<li><p><b>Isolation</b> \u2212 Intermediate results of a transaction are not visible outside the current transaction.</p></li>\n<li><p><b>Durability</b> \u2212 Once a transaction was committed, the effects are persistent, even after a system failure.</p></li>\n</ul>\n<p>The Python DB API 2.0 provides two methods to either <i>commit</i> or <i>rollback</i> a transaction.</p>\n<h3>Example</h3>\n<p>You already know how to implement transactions. Here is again similar example \u2212</p>\n<pre class=\"prettyprint notranslate\">\n# Prepare SQL query to DELETE required records\nsql = \"DELETE FROM EMPLOYEE WHERE AGE &gt; '%d'\" % (20)\ntry:\n   # Execute the SQL command\n   cursor.execute(sql)\n   # Commit your changes in the database\n   db.commit()\nexcept:\n   # Rollback in case there is any error\n   db.rollback()\n</pre>\n<h2>COMMIT Operation</h2>\n<p>Commit is the operation, which gives a green signal to database to finalize the changes, and after this operation, no change can be reverted back.</p>\n<p>Here is a simple example to call <b>commit</b> method.</p>\n<pre class=\"result notranslate\">\ndb.commit()\n</pre>\n<h2>ROLLBACK Operation</h2>\n<p>If you are not satisfied with one or more of the changes and you want to revert back those changes completely, then use <b>rollback()</b> method.</p>\n<p>Here is a simple example to call <b>rollback()</b> method.</p>\n<pre class=\"result notranslate\">\ndb.rollback()\n</pre>\n<h2>Disconnecting Database</h2>\n<p>To disconnect Database connection, use close() method.</p>\n<pre class=\"result notranslate\">\ndb.close()\n</pre>\n<p>If the connection to a database is closed by the user with the close() method, any outstanding transactions are rolled back by the DB. However, instead of depending on any of DB lower level implementation details, your application would be better off calling commit or rollback explicitly.</p>\n<h2>Handling Errors</h2>\n<p>There are many sources of errors. A few examples are a syntax error in an executed SQL statement, a connection failure, or calling the fetch method for an already canceled or finished statement handle.</p>\n<p>The DB API defines a number of errors that must exist in each database module. The following table lists these exceptions.</p>\n<table class=\"table table-bordered\">\n<tr>\n<th style=\"text-align:center;width:10%\">Sr.No.</th>\n<th style=\"text-align:center;\">Exception &amp; Description</th>\n</tr>\n<tr>\n<td class=\"ts\">1</td>\n<td><p><b>Warning</b></p>\n<p>Used for non-fatal issues. Must subclass StandardError.</p></td>\n</tr>\n<tr>\n<td class=\"ts\">2</td>\n<td><p><b>Error</b></p>\n<p>Base class for errors. Must subclass StandardError.</p></td>\n</tr>\n<tr>\n<td class=\"ts\">3</td>\n<td><p><b>InterfaceError</b></p>\n<p>Used for errors in the database module, not the database itself. Must subclass Error.</p></td>\n</tr>\n<tr>\n<td class=\"ts\">4</td>\n<td><p><b>DatabaseError</b></p>\n<p>Used for errors in the database. Must subclass Error.</p></td>\n</tr>\n<tr>\n<td class=\"ts\">5</td>\n<td><p><b>DataError</b></p>\n<p>Subclass of DatabaseError that refers to errors in the data.</p></td>\n</tr>\n<tr>\n<td class=\"ts\">6</td>\n<td><p><b>OperationalError</b></p>\n<p>Subclass of DatabaseError that refers to errors such as the loss of a connection to the database. These errors are generally outside of the control of the Python scripter.</p></td>\n</tr>\n<tr>\n<td class=\"ts\">7</td>\n<td><p><b>IntegrityError</b></p>\n<p>Subclass of DatabaseError for situations that would damage the relational integrity, such as uniqueness constraints or foreign keys.</p></td>\n</tr>\n<tr>\n<td class=\"ts\">8</td>\n<td><p><b>InternalError</b></p>\n<p>Subclass of DatabaseError that refers to errors internal to the database module, such as a cursor no longer being active.</p></td>\n</tr>\n<tr>\n<td class=\"ts\">9</td>\n<td><p><b>ProgrammingError</b></p>\n<p>Subclass of DatabaseError that refers to errors such as a bad table name and other things that can safely be blamed on you.</p></td>\n</tr>\n<tr>\n<td class=\"ts\">10</td>\n<td><p><b>NotSupportedError</b></p>\n<p>Subclass of DatabaseError that refers to trying to call unsupported functionality.</p></td>\n</tr>\n</table>\n<p>Your Python scripts should handle these errors, but before using any of the above exceptions, make sure your MySQLdb has support for that exception. You can get more information about them by reading the DB API 2.0 specification.</p>\n<hr/>\n<div class=\"pre-btn\">\n<a href=\"/python/python_cgi_programming.htm\"><i class=\"icon icon-arrow-circle-o-left big-font\"></i> Previous Page</a>\n</div>\n<div class=\"print-btn center\">\n<a href=\"/cgi-bin/printpage.cgi\" target=\"_blank\"><i class=\"icon icon-print big-font\"></i> Print</a>\n</div>\n<div class=\"nxt-btn\">\n<a href=\"/python/python_networking.htm\">Next Page <i class=\"icon icon-arrow-circle-o-right big-font\"></i>\u00a0</a>\n</div>\n<hr/>\n<!-- PRINTING ENDS HERE -->\n<div class=\"bottomgooglead\">\n<div class=\"bottomadtag\">Advertisements</div>\n<script><!--\nvar width = 580;\nvar height = 400;\nvar format = \"580x400_as\";\nif( window.innerWidth < 468 ){\n   width = 300;\n   height = 250;\n   format = \"300x250_as\";\n}\ngoogle_ad_client = \"pub-7133395778201029\";\ngoogle_ad_width = width;\ngoogle_ad_height = height;\ngoogle_ad_format = format;\ngoogle_ad_type = \"image\";\ngoogle_ad_channel =\"\";\n//--></script>\n<script src=\"https://pagead2.googlesyndication.com/pagead/show_ads.js\">\n</script>\n</div>\n</div>"}